{"version":3,"sources":["styles/Card.module.scss","styles/SuggestRestaurants.module.scss","styles/FiltersDashboard.module.scss","styles/FilterBtn.module.scss","styles/Header.module.scss","styles/SearchBar.module.scss","styles/FeedbackForm.module.scss","styles/FlexibleImg.module.scss","styles/AddItemsList.module.scss","styles/ActionBtn.module.scss","styles/Sidebar.module.scss","styles/PriceSelection.module.scss","styles/Home.module.scss","styles/MapModal.module.scss","static/media/sad-plate.png","static/media/wsie_logo.png","static/media/GitHub-Mark-64px.png","styles/LoadingRing.module.scss","styles/ActiveItemList.module.scss","styles/Main.module.scss","components/Header/SearchBar.js","commonUtils/miscFunctions.js","components/Header/index.js","components/Home/FeedbackForm.js","components/Home/index.js","components/SuggestRestaurants/Card/FilterBtn.js","components/SuggestRestaurants/Card/ActionBtn.js","components/common/FlexibleImg.js","components/SuggestRestaurants/Card/index.js","components/SuggestRestaurants/utils.js","components/common/LoadingRing.js","components/common/MapModal.js","components/common/Sidebar.js","components/common/PriceSelection.js","components/common/ActiveItemList.js","components/common/AddItemsList.js","commonUtils/CategoryClasses.js","components/common/FiltersDashboard.js","components/SuggestRestaurants/index.js","components/Main.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","card","reviewInfo","isMobile","yelpInfo","filterBtns","stackedCard","content","fadeIn","imgContainer","mobileImg","info","yelpLogo","addressInfo","fullAddress","contactInfo","actionBtns","suggestRestaurants","loadingSection","historyBtns","loadingRingContainer","cardStack","selectedCardContainer","messageSection","slideDown","selectCard","flashYellow","cardEnter","cardEnterActive","cardExit","cardExitActive","dashboardContainer","tabs","addItemsHeader","tab","addTabs","activeTab","filterBtn","filterOption","filterContainer","disabled","focused","border","expanded","firstOption","permanentContent","expandedContent","header","scrollBtn","expandedMain","searchContainer","searchBar","suggestion","suggestionsContainer","inputContainer","formContainer","formSubmittedMessage","error","hidden","landscape","portrait","footer","container","item","bullet","selected","actionBtn","reject","maybe","accept","sidebar","priceSign","activePricePoint","home","description","underHeader","modal","__webpack_require__","p","ldsRing","main","trim","text","splitString","split","regex","filter","str","test","join","SearchBar","handleKeyDown","event","key","_this","props","suggestions","length","i","focusedSuggestion","value","setLocation","preventDefault","updateState","input","blur","handleInputChange","target","searchBarValue","updateSuggestions","_callee","url","resp","data","regenerator_default","a","wrap","_context","prev","next","concat","fetch","sent","ok","json","Error","reduce","arr","trimmed","includes","push","searchBarSuggestions","stop","onFocus","inputFocused","searchBarInputFocused","setSelectionRange","onBlur","timeout","setTimeout","onFormSubmit","btnClick","clearTimeout","focus","this","addEventListener","removeEventListener","_this2","classList","styles","react_default","createElement","role","className","autoComplete","onSubmit","htmlFor","type","name","placeholder","onChange","ref","map","suggestionClassList","onMouseEnter","onClick","title","React","Component","biSort","callback","items","stackA","stackB","forEach","scrollToForm","document","getElementById","scrollIntoView","Header","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleLocationChange","location","setState","initialState","toggleExpand","state","prevProps","src","logo","goHome","alt","Header_SearchBar","sadPlate","FeedbackForm","_useState","useState","_useState2","slicedToArray","formSubmitted","setFormSubmitted","_useState3","_useState4","senderName","setSenderName","_useState5","_useState6","senderEmail","setSenderEmail","_useState7","_useState8","setText","_useState9","_useState10","formErrors","setFormErrors","checkForErrors","errors","submitForm","csrftoken","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","cookie","Symbol","iterator","done","_str$split","_str$split2","err","return","getCookie","headers","Accept","Content-Type","X-CSRFToken","body","JSON","stringify","sender_name","sender_email","csrfmiddlewaretoken","credentials","method","mode","Fragment","e","entries","maxLength","Home","id","href","rel","githubLogo","FilterBtn","startTimeout","filterTextTimeout","time","showFilterText","handleClick","btn","adjustEdges","prevState","expandedRect","getBoundingClientRect","btnRect","width","window","screen","style","left","transform","right","difference","hover","onMouseLeave","firstFilterOption","category","secondFilterOption","restaurantSelected","borderStyle","expandedStyle","height","filterOptionStyle","visibility","price","changePrice","addFilter","addCategory","ActionBtn","faClassList","faSize","action","FlexibleImg","onLoad","parent","img","parentElement","parentDepth","delay","initialTimeout","styleImg","parentRect","imgRect","fitParentToImg","triggersLength","restyleTriggers","timer","restyleTimeout","Card","handleTouchStart","targetTouches","initialTouchX","screenX","initialTouchY","screenY","moveCard","handleTouchEnd","renderContent","transition","querySelector","overflowY","rotationRatio","nextRestaurant","touches","differenceX","differenceY","rotation","innerWidth","getRatingImgPath","prefix","rating","restaurant","num","Math","floor","transitionTimeout","handleMouseDown","handleMouseUp","cardClassList","isStacked","selectedCard","image_url","common_FlexibleImg","review_count","Card_FilterBtn","categories","alias","display_address","showOnMap","display_phone","Card_ActionBtn","selectRestaurant","RestaurantsRequest","component","params","setParams","resultsLog","priceList","aliases","sortedAliases","sum","x","resultsLength","offset","getOrCreateRequest","requestsLog","request","isEqualTo","discardDuplicates","seenRestaurants","restaurants","r","restaurantIsIncluded","list","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","retrieveDiscarded","filters","hasCommon","discarded","sortInOrder","orderedList","unorderedList","LoadingRing","MapModal","getSrc","render","urledAddress","address1","replace","urledCity","city","onClose","common_LoadingRing","Sidebar","handleWindowClick","mql","matches","isDescendant","node","parentNode","handleTabClick","handleTransitionEnd","contentDiv","display","matchMedia","fasClass","children","PriceSelection","handleMouseEnter","hoveredPrice","handleMouseLeave","selectedPrice","pricePoints","_loop","priceClassList","repeat","onPriceChange","ActiveItemList","emptyListText","handleDeleteItem","AddItemsList","bulletClassList","selectedItems","contains","toggleSelection","CategoryList","_Array","apply","arguments","inherits","createClass","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","Array","isArray","slice","remove","get","c","sort","wrapNativeSuper","Categories","_CategoryList","prototype","Filters","_CategoryList2","_this3","SeenCategories","_CategoryList3","categoryList","FiltersDashboard","getCurrentFilterList","common_PriceSelection","common_ActiveItemList","removeFilter","removeCategory","getAddItemsList","selectedList","applyChanges","headerText","seenCategories","selectedCategories","toggleCategory","addCategories","selectedFilters","toggleFilter","addFilters","common_AddItemsList","toggle","displayContent","currentFiltersClassList","addInclusionClassList","addExclusionClassList","history","loading","savedRestaurants","renderMapModal","badRequest","SuggestRestaurants","_get2","_len","args","_key","assertThisInitialized","overflowTimeout","utils","getRestaurants","asyncToGenerator","mark","newlyDiscarded","_this$state$filters$d","_this$state$filters$d2","canFetchMore","abrupt","businesses","allSeenRestaurants","discard","addUnseen","saveRestaurant","undo","historyState","newCategories","add","_categories$discard","_categories$discard2","newFilters","_filters$discard","_filters$discard2","retrieved","_utils$retrieveDiscar","_utils$retrieveDiscar2","_utils$discardThrough","_utils$discardThrough2","bringBackSavedRestaurants","_utils$retrieveDiscar3","_utils$retrieveDiscar4","_utils$retrieveDiscar5","_utils$retrieveDiscar6","message","stackedCards","react_transition_group","unmountOnExit","classNames","enter","enterActive","exit","exitActive","SuggestRestaurants_Card","stackClass","undoBtn","savedRestaurantsBtn","common_MapModal","common_Sidebar","common_FiltersDashboard","saveRestaurants","Main","components_Home","components_SuggestRestaurants","App","handlePopstate","userLocation","localStorage","removeItem","setItem","handleResize","scroll","top","behavior","pushState","addListener","getItem","replaceState","removeListener","components_Header","components_Main","Boolean","hostname","match","ReactDOM","components_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.85df0a23.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1ZpjA\",\"reviewInfo\":\"Card_reviewInfo__2zIVF\",\"isMobile\":\"Card_isMobile__ybtIO\",\"yelpInfo\":\"Card_yelpInfo__248dv\",\"filterBtns\":\"Card_filterBtns__2aMr2\",\"stackedCard\":\"Card_stackedCard__3qjFi\",\"content\":\"Card_content__32sS9\",\"fadeIn\":\"Card_fadeIn__25wGG\",\"imgContainer\":\"Card_imgContainer__Y5Toc\",\"mobileImg\":\"Card_mobileImg__sA5gC\",\"info\":\"Card_info__1Wcuv\",\"yelpLogo\":\"Card_yelpLogo__1-gLI\",\"addressInfo\":\"Card_addressInfo__217MO\",\"fullAddress\":\"Card_fullAddress__1KSJW\",\"contactInfo\":\"Card_contactInfo__2KD0G\",\"actionBtns\":\"Card_actionBtns__S2Yon\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"suggestRestaurants\":\"SuggestRestaurants_suggestRestaurants__6UVzm\",\"loadingSection\":\"SuggestRestaurants_loadingSection__a_T_1\",\"historyBtns\":\"SuggestRestaurants_historyBtns__2sIm9\",\"loadingRingContainer\":\"SuggestRestaurants_loadingRingContainer__1MxRv\",\"cardStack\":\"SuggestRestaurants_cardStack__1vLjB\",\"selectedCardContainer\":\"SuggestRestaurants_selectedCardContainer__15sVS\",\"messageSection\":\"SuggestRestaurants_messageSection__7iojA\",\"slideDown\":\"SuggestRestaurants_slideDown__31kWJ\",\"selectCard\":\"SuggestRestaurants_selectCard__18q9j\",\"flashYellow\":\"SuggestRestaurants_flashYellow__316Bk\",\"cardEnter\":\"SuggestRestaurants_cardEnter__2b_ZH\",\"cardEnterActive\":\"SuggestRestaurants_cardEnterActive__2Ufvf\",\"cardExit\":\"SuggestRestaurants_cardExit__J2NZS\",\"cardExitActive\":\"SuggestRestaurants_cardExitActive__2Cdyp\",\"fadeIn\":\"SuggestRestaurants_fadeIn__3--OL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboardContainer\":\"FiltersDashboard_dashboardContainer__3NRcS\",\"tabs\":\"FiltersDashboard_tabs__3iIM-\",\"content\":\"FiltersDashboard_content__3I0qr\",\"addItemsHeader\":\"FiltersDashboard_addItemsHeader__3PA31\",\"tab\":\"FiltersDashboard_tab__2KwFy\",\"addTabs\":\"FiltersDashboard_addTabs__30z-I\",\"activeTab\":\"FiltersDashboard_activeTab__2vT24\",\"fadeIn\":\"FiltersDashboard_fadeIn__3zozd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterBtn\":\"FilterBtn_filterBtn__vJkYU\",\"filterOption\":\"FilterBtn_filterOption__2K83P\",\"filterContainer\":\"FilterBtn_filterContainer__2GD5I\",\"disabled\":\"FilterBtn_disabled__Lr5Ld\",\"focused\":\"FilterBtn_focused__3RU6-\",\"border\":\"FilterBtn_border__2fJD5\",\"expanded\":\"FilterBtn_expanded__2AO_W\",\"firstOption\":\"FilterBtn_firstOption__25tqE\",\"fadeIn\":\"FilterBtn_fadeIn__1JMZQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"permanentContent\":\"Header_permanentContent__3ql1a\",\"expandedContent\":\"Header_expandedContent__3HWJX\",\"header\":\"Header_header__DFhBc\",\"scrollBtn\":\"Header_scrollBtn__3zPhQ\",\"expandedMain\":\"Header_expandedMain__3mssU\",\"expanded\":\"Header_expanded__30ROW\",\"searchContainer\":\"Header_searchContainer__3n5qy\",\"fadeIn\":\"Header_fadeIn__1t5wu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__2BpzG\",\"suggestion\":\"SearchBar_suggestion__15Tmt\",\"fadeIn\":\"SearchBar_fadeIn__8wAf3\",\"expanded\":\"SearchBar_expanded__2FDg0\",\"suggestionsContainer\":\"SearchBar_suggestionsContainer__2_UsY\",\"inputContainer\":\"SearchBar_inputContainer__1vfYd\",\"focused\":\"SearchBar_focused__1XWye\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"FeedbackForm_formContainer__1Oxpj\",\"formSubmittedMessage\":\"FeedbackForm_formSubmittedMessage__2LOiZ\",\"fadeIn\":\"FeedbackForm_fadeIn__3su5y\",\"error\":\"FeedbackForm_error__1qBwD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"FlexibleImg_hidden__fxJZA\",\"landscape\":\"FlexibleImg_landscape__UP1dQ\",\"fadeIn\":\"FlexibleImg_fadeIn__2DO5n\",\"portrait\":\"FlexibleImg_portrait__1Oalo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"AddItemsList_footer__283hr\",\"container\":\"AddItemsList_container__P4fcs\",\"item\":\"AddItemsList_item__1LZDq\",\"bullet\":\"AddItemsList_bullet__2_i6g\",\"selected\":\"AddItemsList_selected__2rFzG\",\"fadeIn\":\"AddItemsList_fadeIn__3GDEV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionBtn\":\"ActionBtn_actionBtn__1iIrS\",\"reject\":\"ActionBtn_reject__1hHU2\",\"maybe\":\"ActionBtn_maybe__1Y6Lb\",\"accept\":\"ActionBtn_accept__2gPmJ\",\"fadeIn\":\"ActionBtn_fadeIn__1nTVf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1G2Wm\",\"tab\":\"Sidebar_tab__3a9pu\",\"content\":\"Sidebar_content__1BDx-\",\"fadeIn\":\"Sidebar_fadeIn__1mT2p\",\"expanded\":\"Sidebar_expanded__ADaRI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PriceSelection_container__8JKGe\",\"priceSign\":\"PriceSelection_priceSign__3soyJ\",\"activePricePoint\":\"PriceSelection_activePricePoint__2VAjf\",\"fadeIn\":\"PriceSelection_fadeIn__26PeH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3w6si\",\"description\":\"Home_description__1CPEd\",\"underHeader\":\"Home_underHeader__1vuZU\",\"fadeIn\":\"Home_fadeIn__11n-M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"MapModal_modal__1C5i1\",\"loadingRingContainer\":\"MapModal_loadingRingContainer__nUXTN\",\"hidden\":\"MapModal_hidden__2z6gz\",\"fadeIn\":\"MapModal_fadeIn__28csU\"};","module.exports = __webpack_public_path__ + \"static/media/sad-plate.99770d9a.png\";","module.exports = __webpack_public_path__ + \"static/media/wsie_logo.6886045f.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2ls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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsRing\":\"LoadingRing_ldsRing__b7JAh\",\"fadeIn\":\"LoadingRing_fadeIn__13lLK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ActiveItemList_item__3T5yD\",\"fadeIn\":\"ActiveItemList_fadeIn__1oAP5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__y-NeT\",\"fadeIn\":\"Main_fadeIn__3wZb4\"};","import React from 'react';\nimport styles from 'styles/SearchBar.module.scss';\nimport fetch from 'unfetch';\n\n\n// Trims 'USA' from fetched location autocomplete suggestions to avoid duplicates\nfunction trim(text) {\n\tconst splitString = text.split(', ');\n\tconst regex = /USA( \\(.+\\))?/;\n\tconst filtered = splitString.filter(str => !regex.test(str));\n\treturn filtered.join(', ');\n}\n\n\nclass SearchBar extends React.Component {\n\tcomponentDidMount() {\n\t\tif (this.props.inputFocused) {\n\t\t\tthis.input.focus();\n\t\t}\n\t\tthis.input.addEventListener('keydown', this.handleKeyDown);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timeout);\n\t\tthis.input.removeEventListener('keydown', this.handleKeyDown);\n\t}\n\n\thandleKeyDown = event => {\n\t\tif (event.key === 'Enter' && this.props.suggestions.length > 0) {\n\t\t\tconst i = this.props.focusedSuggestion || 0;\n\t\t\tconst value = this.props.suggestions[i];\n\t\t\tthis.props.setLocation(value);\n\t\t} else if (event.key === 'ArrowDown' && this.props.suggestions.length > 0) {\n\t\t\tevent.preventDefault();\n\t\t\tlet i = this.props.focusedSuggestion;\n\t\t\tif (i === null) {\n\t\t\t\ti = 0;\n\t\t\t} else if (i < 4) {\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tthis.props.updateState({focusedSuggestion: i});\n\t\t} else if (event.key === 'ArrowUp' && this.props.suggestions.length > 0) {\n\t\t\tevent.preventDefault();\n\t\t\tconst i = this.props.focusedSuggestion ? this.props.focusedSuggestion - 1 : 0;\n\t\t\tthis.props.updateState({focusedSuggestion: i});\n\t\t} else if (event.key === 'Escape') {\n\t\t\tevent.preventDefault();\n\t\t\tthis.input.blur();\n\t\t} else if (event.key === 'Tab' && this.props.suggestions.length > 0) {\n\t\t\tevent.preventDefault();\n\t\t\tlet i = this.props.focusedSuggestion;\n\t\t\tif (i === null) {\n\t\t\t\ti = 0;\n\t\t\t} else if (i < 4) {\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tthis.props.updateState({focusedSuggestion: i});\n\t\t}\n\t};\n\n\thandleInputChange = event => {\n\t\tconst value = event.target.value;\n\t\tthis.props.updateState({searchBarValue: value});\n\t\tif (value.length >= 3) {\n\t\t\tthis.updateSuggestions(value);\n\t\t}\n\t};\n\n\tupdateSuggestions = async value => {\n\t\tconst url = `https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/suggest?text=${value}&category=Address,Primary+Postal,City&countryCode=USA&f=json`;\n\t  const resp = await fetch(url);\n\t  let data;\n\t  if (resp.ok) {\n\t  \tdata = await resp.json();\n\t  } else {\n\t  \tthrow new Error(\"Unable to reach arcgis.com\");\n\t  }\n\t  const suggestions =  data.suggestions.reduce((arr, suggestion) => {\n\t\t\tconst trimmed = trim(suggestion.text);\n\t\t\tif (!arr.includes(trimmed)) {\n\t\t\t\tarr.push(trimmed);\n\t\t\t}\n\t\t\treturn arr;\n\t\t}, []);\n\t\tthis.props.updateState({searchBarSuggestions: suggestions});\n\t};\n\n\tonFocus = () => {\n\t\tif (!this.props.inputFocused) {\n\t\t\tthis.props.updateState({searchBarInputFocused: true});\n\t\t\tthis.input.setSelectionRange(0, this.input.value.length);\n\t\t}\n\t\t/* Update suggestions if they get lost on a page change */\n\t\tif (this.props.value.length >= 3 && \n\t\t\t\t\tthis.props.suggestions.length === 0) {\n\t\t\tthis.updateSuggestions(this.props.value);\n\t\t}\n\t};\n\n\tonBlur = () => {\n\t\tthis.timeout = setTimeout(() => {\n\t\t\tthis.props.updateState({\n\t\t\t\tsearchBarInputFocused: false,\n\t\t\t\tfocusedSuggestion: null,\n\t\t\t});\n\t\t}, 200);\n\t};\n\n\tonFormSubmit = () => {\n\t\tlet value;\n\t\tif (this.props.suggestions.length > 0) {\n\t\t\tconst i = this.props.focusedSuggestion || 0;\n\t\t\tvalue = this.props.suggestions[i];\n\t\t} else {\n\t\t\tvalue = this.props.value;\n\t\t}\n\t\tthis.props.setLocation(value);\n\t};\n\n\tbtnClick = event => {\n\t\tevent.preventDefault();\n\t\tclearTimeout(this.timeout);\n\t\tif (!this.props.inputFocused ||\n\t\t\t!this.props.focusedSuggestion || \n\t\t\tthis.props.focusedSuggestion === this.props.value) {\n\t\t\tthis.input.focus();\n\t\t} else {\n\t\t\tthis.onFormSubmit();\n\t\t}\n\t};\n\n\n\trender() {\n\t\tconst classList = [styles.searchBar];\n\t\tif (this.props.expanded) {\n\t\t\tclassList.push(styles.expanded);\n\t\t}\n\n\t\treturn (\n\t\t\t<form\n\t\t\t\trole='search' \n\t\t\t\tclassName={classList.join(' ')} \n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tonSubmit={this.onFormSubmit}\n\t\t\t>\n\t\t\t\t<div className={styles.suggestionsContainer}>\n\t\t\t\t\t<div className={styles.inputContainer}>\n\t\t\t\t\t\t<label htmlFor=\"location\">Enter your location:</label>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tname=\"location\"\n\t\t\t\t\t\t\tvalue={this.props.value} \n\t\t\t\t\t\t\tplaceholder=\"Enter your location\"\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\t\t\tref={input => this.input = input}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Suggestions */}\n\t\t\t\t\t{this.props.inputFocused &&\n\t\t\t\t\t\tthis.props.value.length >= 3 &&\n\t\t\t\t\t\tthis.props.suggestions.map((suggestion, i) => {\n\t\t\t\t\t\t\tconst suggestionClassList = [styles.suggestion];\n\t\t\t\t\t\t\tif (this.props.focusedSuggestion === i) {\n\t\t\t\t\t\t\t\tsuggestionClassList.push(styles.focused);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\tclassName={suggestionClassList.join(' ')} \n\t\t\t\t\t\t\t\t\tkey={suggestion}\n\t\t\t\t\t\t\t\t\tonMouseEnter={() => this.props.updateState({focusedSuggestion: i})}\n\t\t\t\t\t\t\t\t\tonClick={() => this.props.setLocation(suggestion)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{suggestion}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t</div>\n\n\t\t\t\t{(!this.props.isMobile || this.props.expanded) && \n\t\t\t\t\t<button \n\t\t\t\t\t\ttype='submit' \n\t\t\t\t\t\tonClick={this.btnClick}\n\t\t\t\t\t\ttitle=\"Search location\"\n\t\t\t\t\t>\n\t\t\t\t\t\tFind Me Food!\n\t\t\t\t\t</button>}\n\t\t\t</form>\n\t\t);\n\t}\n}\n\n\nexport default SearchBar","\n/* Sorts an array of items into two arrays based on given parameters */\nexport function biSort(callback, items) {\n\tconst stackA = [];\n\tconst stackB = [];\n\titems.forEach(item => {\n\t\tconst stack = callback(item) ? stackA : stackB;\n\t\tstack.push(item);\n\t});\n\treturn [stackA, stackB];\n}\n\n\nexport function isDescendant(parent, node) {\n\tswitch (node) {\n\t\tcase parent:\n\t\t\treturn true;\n\t\tcase document.querySelector('body'):\n\t\t\treturn false;\n\t\tdefault:\n\t\t\treturn node === null ? true : isDescendant(parent, node.parentNode);\n\t}\n}\n\n\nexport function getCookie(name) {\n\tfor (const str of document.cookie.split('; ')) {\n\t\tconst [key, value] = str.split('=');\n\t\tif (key === name) return value;\n\t}\n}\n\n\nexport function scrollToForm(isMobile) {\n\tdocument.getElementById('underHeader').scrollIntoView();\n\t// if (isMobile) {\n\t// \tdocument.getElementById('underHeader').scrollIntoView();\n\t// } else {\n\t// \tconst fontSize = getComputedStyle(document.documentElement).fontSize;\n\t// \tconst headerHeight = 5 * parseFloat(fontSize);\n\t// \tif (window.scrollY < headerHeight) {\n\t// \t\twindow.scroll({\n\t// \t\t\ttop: headerHeight,\n\t// \t\t\tleft: 0,\n\t// \t\t\tbehavior: 'smooth',\n\t// \t\t});\n\t// \t}\n\t// }\n}","import React from 'react';\nimport SearchBar from './SearchBar';\nimport styles from 'styles/Header.module.scss';\nimport sadPlate from 'static/media/sad-plate.png';\nimport logo from 'static/media/wsie_logo.png';\nimport { scrollToForm } from 'commonUtils/miscFunctions';\n\n\nclass Header extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\texpanded: props.location === null,\n\t\t\t// SearchBar states kept here to keep state when Header expands/contracts.\n\t\t\tsearchBarValue: props.location || '',\n\t\t\tsearchBarSuggestions: [],\n\t\t\tfocusedSuggestion: null,\n\t\t\tsearchBarInputFocused: false,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.location === null) {\n\t\t\tdocument.addEventListener('scroll', this.toggleExpand);\n\t\t}\n\t\tthis.initialState = this.state;\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// document.removeEventListener('scroll', this.toggleExpand);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.location !== prevProps.location) {\n\t\t\tthis.handleLocationChange();\n\t\t}\n\t}\n\n\thandleLocationChange = () => {\n\t\tif (this.props.location === null) {\n\t\t\t// document.addEventListener('scroll', this.toggleExpand);\n\t\t\tthis.setState(this.initialState);\n\t\t} else {\n\t\t\tdocument.removeEventListener('scroll', this.toggleExpand);\n\t\t\tthis.setState({\n\t\t\t\tsearchBarValue: this.props.location, \n\t\t\t\texpanded: false,\n\t\t\t\tsearchBarInputFocused: false,\n\t\t\t\tfocusedSuggestion: null,\n\t\t\t});\n\t\t}\n\t};\n\n\ttoggleExpand = () => {\n\t\tif (this.props.isMobile) return;\n\t\t// if (window.scrollY === 0 && !this.state.expanded) {\n\t\t// \tthis.setState({expanded: true});\n\t\t// } else if (window.scrollY > 0 && this.state.expanded) {\n\t\t// \tthis.setState({expanded: false});\n\t\t// }\n\t};\n\n\trender() {\n\t\tconst classList = [styles.header];\n\t\tif (this.state.expanded) {\n\t\t\tclassList.push(styles.expanded);\n\t\t}\n\n\t\treturn (\n\t\t\t<header className={classList.join(' ')}>\n\n\t\t\t\t{/* Unexpanded or permanent content */}\n\t\t\t\t<div className={styles.permanentContent}>\n\t\t\t\t\t<img src={logo} onClick={this.props.goHome} alt=\"Site Logo\" title=\"Go to home page\"></img>\n\t\t\t\t\t{!this.state.expanded &&\n\t\t\t\t\t\t<SearchBar\n\t\t\t\t\t\t\texpanded={this.state.expanded}\n\t\t\t\t\t\t\tisMobile={this.props.isMobile}\n\t\t\t\t\t\t\tvalue={this.state.searchBarValue}\n\t\t\t\t\t\t\tsuggestions={this.state.searchBarSuggestions}\n\t\t\t\t\t\t\tinputFocused={this.state.searchBarInputFocused}\n\t\t\t\t\t\t\tupdateState={state => this.setState(state)}\n\t\t\t\t\t\t\tsetLocation={value => this.props.setLocation(value)}\n\t\t\t\t\t\t\tfocusedSuggestion={this.state.focusedSuggestion}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\t\t\t{/* Expanded content for home page */}\n\t\t\t\t{this.state.expanded &&\n\t\t\t\t\t(<div className={styles.expandedContent}>\n\t\t\t\t\t\t<div className={styles.expandedMain}>\n\t\t\t\t\t\t\t<div className={styles.searchContainer}>\n\t\t\t\t\t\t\t\t<h1>Hungry?</h1>\n\t\t\t\t\t\t\t\t<SearchBar\n\t\t\t\t\t\t\t\t\texpanded={this.state.expanded}\n\t\t\t\t\t\t\t\t\tisMobile={this.props.isMobile}\n\t\t\t\t\t\t\t\t\tvalue={this.state.searchBarValue}\n\t\t\t\t\t\t\t\t\tsuggestions={this.state.searchBarSuggestions}\n\t\t\t\t\t\t\t\t\tinputFocused={this.state.searchBarInputFocused}\n\t\t\t\t\t\t\t\t\tupdateState={state => this.setState(state)}\n\t\t\t\t\t\t\t\t\tsetLocation={value => this.props.setLocation(value)}\n\t\t\t\t\t\t\t\t\tfocusedSuggestion={this.state.focusedSuggestion}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<img src={sadPlate} alt=\"Sad, empty plate :(\"></img>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclassName={styles.scrollBtn} \n\t\t\t\t\t\t\tonClick={() => scrollToForm(this.props.isMobile)}\n\t\t\t\t\t\t\ttitle=\"Collapse Header\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>)\n\t\t\t\t}\n\t\t\t</header>\n\t\t);\n\t}\n}\n\n\nexport default Header;","import React, { useState } from 'react';\nimport styles from 'styles/FeedbackForm.module.scss';\nimport { getCookie } from 'commonUtils/miscFunctions';\nimport fetch from 'unfetch';\n\n\nexport default function FeedbackForm(props) {\n\tconst [formSubmitted, setFormSubmitted] = useState(false);\n\tconst [senderName, setSenderName] = useState('');\n\tconst [senderEmail, setSenderEmail] = useState('');\n\tconst [text, setText] = useState('');\n\tconst [formErrors, setFormErrors] = useState({});\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst errors = checkForErrors();\n\t\tif (Object.entries(errors).length > 0) setFormErrors(errors);\n\t\telse submitForm();\n\t}\n\n\tconst checkForErrors = () => {\n\t\tconst errors = {};\n\t\tif (senderName === '') {\n\t\t\terrors.senderName = '*This field is required.';\n\t\t}\n\n\t\tconst emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\tif (senderEmail.length > 0 && !emailRegex.test(senderEmail)) {\n\t\t\terrors.senderEmail = '*Please enter a valid email address.'\n\t\t}\n\n\t\tif (text === '') {\n\t\t\terrors.text = '*This field is required.';\n\t\t}\n\n\t\treturn errors;\n\t}\n\n\tconst submitForm = () => {\n\t\tconst csrftoken = getCookie('csrftoken');\n\n\t\tconst headers = {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'X-CSRFToken': csrftoken,\n\t\t}\n\n\t\tconst body = JSON.stringify({\n\t\t\t'sender_name': senderName,\n\t\t\t'sender_email': senderEmail,\n\t\t\t'text': text,\n\t\t\t'csrfmiddlewaretoken': csrftoken,\n\t\t});\n\n\t\tfetch('/api/feedback', {\n\t\t\tcredentials: 'include',\n\t\t\tmethod: 'POST',\n\t\t\tmode: 'same-origin',\n\t\t\theaders,\n\t\t\tbody,\n\t\t});\n\n\t\tsetFormSubmitted(true);\n\t}\n\n\treturn (\n\t\t<div className={styles.formContainer}>\n\t\t\t{formSubmitted &&\n\t\t\t\t<p className={styles.formSubmittedMessage}>Thank you for your feedback!</p>}\n\n\t\t\t{!formSubmitted &&\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<h1>Contact</h1>\n\t\t\t\t\t\t<p>Have questions, criticisms, or bug reports? We'd love to hear from you!</p>\n\t\t\t\t\t\t<label>\t\n\t\t\t\t\t\t\tYour name:\n\t\t\t\t\t\t\t{formErrors.senderName &&\n\t\t\t\t\t\t\t\t<span className={styles.error}>{formErrors.senderName}</span>}\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype=\"text\" value={senderName} name=\"name\"\n\t\t\t\t\t\t\t\tonChange={e => setSenderName(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"Jane Doe\"\n\t\t\t\t\t\t\t\tonFocus={props.scrollToForm}\n\t\t\t\t\t\t\t\tmaxLength=\"255\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tYour email (optional):\n\t\t\t\t\t\t\t{formErrors.senderEmail &&\n\t\t\t\t\t\t\t\t<span className={styles.error}>{formErrors.senderEmail}</span>}\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype=\"text\" value={senderEmail}  name=\"email\"\n\t\t\t\t\t\t\t\tonChange={e => setSenderEmail(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"janedoe@email.com\"\n\t\t\t\t\t\t\t\tonFocus={props.scrollToForm}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tYour message:\n\t\t\t\t\t\t\t{formErrors.text &&\n\t\t\t\t\t\t\t\t<span className={styles.error}>{formErrors.text}</span>}\n\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\ttype=\"text\" value={text} name=\"message\" \n\t\t\t\t\t\t\t\tonChange={e => setText(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua...\"\n\t\t\t\t\t\t\t\tonFocus={props.scrollToForm}\n\t\t\t\t\t\t\t\tmaxLength=\"63206\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<button type=\"submit\">Submit</button>\n\t\t\t\t\t</form>\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t</div>\n\t)\t\n}","import React from 'react';\nimport styles from 'styles/Home.module.scss';\nimport githubLogo from 'static/media/GitHub-Mark-64px.png';\nimport FeedbackForm from './FeedbackForm';\nimport { scrollToForm } from 'commonUtils/miscFunctions';\n\n\nfunction Home(props) {\n\treturn (\n\t\t<div className={styles.home}>\n\t\t\t<div className={styles.description}>\n\t\t\t\t<p>\n\t\t\t\t\tAre you hungry? Hangry, even? So famished that you cant even begin to think of what your options could be? Let us be your guide. Enter your location (the more specific, the better) and swipe away until you find something that will satisfy you.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div className={styles.underHeader} id=\"underHeader\">\n\t\t\t\t<FeedbackForm scrollToForm={scrollToForm}/>\n\t\t\t</div>\n\n\t\t\t<footer>\n\t\t\t\t<p>What Should I Eat? A website by Sean Carey</p>\n\t\t\t\t<a \n\t\t\t\t\thref='https://github.com/scarey18' \n\t\t\t\t\ttarget='_blank' \n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\ttitle=\"Sean's GitHub page\"\n\t\t\t\t>\n\t\t\t\t\t<img src={githubLogo} alt=\"GitHub Logo\"></img>\n\t\t\t\t</a>\n\t\t\t</footer>\n\t\t</div>\n\t)\n}\n\n\nexport default Home","import React from 'react';\nimport styles from 'styles/FilterBtn.module.scss';\n\n\nclass FilterBtn extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\texpanded: false,\n\t\t\thover: false,\n\t\t\tshowFilterText: false,\n\t\t}\n\n\t// Different filter depending on whether button is for price or food category\n\t\tthis.firstFilterOption = this.props.category.title ? \n\t\t\t\"Don't show me any more \" + this.props.category.title :\n\t\t\t\"I'm looking for something cheaper\";\n\n\t\tthis.secondFilterOption = this.props.category.title ?\n\t\t\t\"Only show me \" + this.props.category.title : \n\t\t\t\"Only show me restaurants this price or cheaper\";\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('click', this.handleClick);\n\t\tthis.adjustEdges();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('click', this.handleClick);\n\t\tclearTimeout(this.filterTextTimeout);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevState.expanded !== this.state.expanded) {\n\t\t\tthis.startTimeout();\n\t\t}\n\t}\n\n// Wait for css transition before we show text\n\tstartTimeout = () => {\n\t\tclearTimeout(this.filterTextTimeout);\n\t\tconst time = this.state.expanded ? 200 : 0;\n\t\tthis.filterTextTimeout = setTimeout(() => {\n\t\t\tthis.setState({showFilterText: this.state.expanded});\n\t\t}, time);\n\t};\n\n\thandleClick = event => {\n\t\tif (event.target !== this.btn && this.state.expanded) {\n\t\t\tthis.setState({expanded: false});\n\t\t}\n\t};\n\n\tonClick = () => {\n\t\tthis.adjustEdges();\n\t\tthis.setState(prevState => ({\n\t\t\texpanded: !prevState.expanded,\n\t\t}));\n\t};\n\n\t// Adjust positioning of expanded content if it overflows offscreen\n\tadjustEdges = () => {\n\t\tconst expandedRect = this.expandedContent.getBoundingClientRect();\n\t\tconst btnRect = this.btn.getBoundingClientRect();\n\n\t\tif (expandedRect.width > window.screen.width) {\n\t\t\tthis.expandedContent.style.left = `-${btnRect.left}px`;\n\t\t\tthis.expandedContent.style.width = '100vw';\n\t\t\tthis.expandedContent.style.transform = 'none';\n\t\t} else if (expandedRect.left < 0) {\n\t\t\tthis.expandedContent.style.left = `-${btnRect.left}px`;\n\t\t\tthis.expandedContent.style.transform = 'none';\n\t\t} else if (expandedRect.right > window.screen.width) {\n\t\t\tconst difference = window.screen.width - btnRect.right;\n\t\t\tthis.expandedContent.style.left = 'unset';\n\t\t\tthis.expandedContent.style.right = `-${difference}px`;\n\t\t\tthis.expandedContent.style.transform = 'none';\n\t\t}\n\t};\n\n\tonMouseEnter = () => this.setState({hover: true});\n\n\tonMouseLeave = () => this.setState({hover: false});\n\n\trender() {\n\t\tconst classList = [styles.filterBtn];\n\t\tif (this.state.expanded) {\n\t\t\tclassList.push(styles.focused);\n\t\t}\n\t\tif (this.props.restaurantSelected) {\n\t\t\tclassList.push(styles.disabled);\n\t\t}\n\n\t\tconst borderStyle = {\n\t\t\twidth: (this.state.hover || this.state.expanded ? \"100%\" : 0),\n\t\t\tleft: (this.state.hover || this.state.expanded ? 0 : \"50%\"),\n\t\t}\n\n\t\tconst expandedStyle = {\n\t\t\theight: (this.state.expanded ? '6rem' : 0),\n\t\t}\n\n\t\tconst filterOptionStyle = {\n\t\t\tvisibility: (this.state.showFilterText ? 'visible' : 'hidden'),\n\t\t}\n\n\t\tconst price = this.props.category.title ? null : this.props.category.length;\n\n\t\treturn (\n\t\t\t<div className={styles.filterContainer}>\n\t\t\t\t<button\n\t\t\t\t\tclassName={classList.join(' ')}\n\t\t\t\t\tonClick={this.props.restaurantSelected ? null : this.onClick}\n\t\t\t\t\tonMouseEnter={this.props.restaurantSelected ? null : this.onMouseEnter}\n\t\t\t\t\tonMouseLeave={this.props.restaurantSelected ? null : this.onMouseLeave}\n\t\t\t\t\tonFocus={this.props.restaurantSelected ? null : this.onMouseEnter}\n\t\t\t\t\tonBlur={this.props.restaurantSelected ? null : this.onMouseLeave}\t\n\t\t\t\t\tref={ref => this.btn = ref}\n\t\t\t\t\ttitle={this.props.restaurantSelected ? \"\" : \"Click to filter\"}\n\t\t\t\t\tdisabled={this.props.restaurantSelected}\n\t\t\t\t>\n\t\t\t\t\t{this.props.category.title || this.props.category}\n\n\t\t\t\t{/* Absolute div to act as bottom border for css transition */}\n\t\t\t\t\t<div className={styles.border} style={borderStyle}></div>\n\t\t\t\t</button>\n\n\t\t\t\t{/* Filter options */}\n\t\t\t\t<div \n\t\t\t\t\tclassName={styles.expanded} \n\t\t\t\t\tstyle={expandedStyle}\n\t\t\t\t\tref={ref => this.expandedContent = ref}\n\t\t\t\t>\n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName={`${styles.filterOption} ${styles.firstOption}`}\n\t\t\t\t\t\tstyle={filterOptionStyle}\n\t\t\t\t\t\tonClick={price ? () => this.props.changePrice(price - 1) : \n\t\t\t\t\t\t\tthis.props.addFilter}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.firstFilterOption}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName={styles.filterOption}\n\t\t\t\t\t\tstyle={filterOptionStyle}\n\t\t\t\t\t\tonClick={price ? () => this.props.changePrice(price) : \n\t\t\t\t\t\t\tthis.props.addCategory}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.secondFilterOption}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default FilterBtn;","import React from 'react';\nimport styles from 'styles/ActionBtn.module.scss';\n\n\nfunction ActionBtn(props) {\n\tlet value;\n\tconst classList = [styles.actionBtn];\n\tlet faClassList;\n\tconst faSize = props.isMobile ? \"fa-lg\" : \"fa-2x\";\n\tlet title;\n\n\tswitch (props.id) {\n\t\tcase 0: {\n\t\t\tfaClassList = `fa fa-thumbs-down ${faSize}`;\n\t\t\tvalue = <i className={faClassList}></i>;\n\t\t\tclassList.push(styles.reject);\n\t\t\ttitle = \"Click to reject restaurant\"\n\t\t\tbreak;\n\t\t}\n\t\tcase 1: {\n\t\t\tvalue = \"Save and skip\";\n\t\t\tclassList.push(styles.maybe);\n\t\t\ttitle = \"Click to skip but save restaurant\"\n\t\t\tbreak;\n\t\t}\n\t\tcase 2: {\n\t\t\tfaClassList = `fa fa-thumbs-up ${faSize}`;\n\t\t\tvalue = <i className={faClassList}></i>;\n\t\t\tclassList.push(styles.accept);\n\t\t\ttitle = \"Click to select restaurant\"\n\t\t\tbreak;\n\t\t}\n\t\tdefault: {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn (\n\t\t<button \n\t\t\tclassName={classList.join(' ')} \n\t\t\tonClick={props.action}\n\t\t\ttitle={title}\n\t\t>\n\t\t\t{value}\n\t\t</button>\n\t);\n}\n\n\nexport default ActionBtn;","import React from 'react';\nimport styles from 'styles/FlexibleImg.module.scss';\n\n\nclass FlexibleImg extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tclassName: styles.hidden,\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst triggersLength = this.props.restyleTriggers ? \n\t\t\tthis.props.restyleTriggers.length : 0;\n\t\t\t\n\t\tfor (let i = 0; i < triggersLength; i++) {\n\t\t\tconst triggerBool = this.props.restyleTriggers[i][0];\n\t\t\tif (triggerBool !== prevProps.restyleTriggers[i][0]) {\n\t\t\t\tconst timer = this.props.restyleTriggers[i][1];\n\t\t\t\tthis.setState({className: styles.hidden});\n\t\t\t\tthis.restyleTimeout = setTimeout(this.styleImg, timer);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.initialTimeout);\n\t\tclearTimeout(this.restyleTimeout);\n\t\twindow.removeEventListener('resize', this.styleImg);\n\t}\n\n\tonLoad = () => {\n\t\tthis.parent = this.img.parentElement;\n\t\tfor (let i = 0; i < this.props.parentDepth - 1; i++) {\n\t\t\tthis.parent = this.parent.parentElement;\n\t\t}\n\n\t\tif (this.props.delay) {\n\t\t\tthis.initialTimeout = setTimeout(this.styleImg, this.props.delay);\n\t\t} else {\n\t\t\tthis.styleImg();\n\t\t}\n\n\t\twindow.addEventListener('resize', this.styleImg);\n\t};\n\n\tstyleImg = () => {\n\t\tconst parentRect = this.parent.getBoundingClientRect();\n\t\tconst imgRect = this.img.getBoundingClientRect();\n\t\tconst widthRatio = parentRect.width / imgRect.width;\n\t\tconst heightRatio = parentRect.height / imgRect.height;\n\t\tconst className = widthRatio < heightRatio ? styles.landscape : styles.portrait;\n\n\t\tif (this.props.fitParentToImg && className === styles.landscape) {\n\t\t\tthis.img.parentElement.style.height = 'auto';\n\t\t\tthis.img.parentElement.style.width = null;\n\t\t} else if (this.props.fitParentToImg) {\n\t\t\tthis.img.parentElement.style.width = 'auto';\n\t\t\tthis.img.parentElement.style.height = null;\n\t\t}\n\n\t\tif (className !== this.state.className) {\n\t\t\tthis.setState({className});\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<img \n\t\t\t\tsrc={this.props.src}\n\t\t\t\talt={this.props.alt}\n\t\t\t\tclassName={this.state.className}\n\t\t\t\tonLoad={this.onLoad}\n\t\t\t\tref={ref => this.img = ref}\n\t\t\t></img>\n\t\t)\n\t}\n}\n\n\nexport default FlexibleImg;","import React from 'react';\nimport styles from 'styles/Card.module.scss';\nimport FilterBtn from './FilterBtn';\nimport ActionBtn from './ActionBtn';\nimport FlexibleImg from 'components/common/FlexibleImg';\n\n\nclass Card extends React.Component {\n\tcomponentDidMount() {\n\t\tif (this.props.renderContent) {\n\t\t\tthis.card.addEventListener('mousedown', this.handleTouchStart);\n\t\t\tthis.card.addEventListener('touchstart', this.handleTouchStart);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.props.renderContent && \n\t\t\t\t\t(!prevProps.renderContent || \n\t\t\t\t\t !this.props.restaurantSelected && prevProps.restaurantSelected)\n\t\t\t\t) {\n\t\t\tthis.card.addEventListener('mousedown', this.handleTouchStart);\n\t\t\tthis.card.addEventListener('touchstart', this.handleTouchStart);\n\t\t} else if (!this.props.renderContent && prevProps.renderContent ||\n\t\t\t\t\t\t\t\tthis.props.restaurantSelected && !prevProps.restaurantSelected) {\n\t\t\tthis.card.removeEventListener('mousedown', this.handleTouchStart);\n\t\t\tthis.card.removeEventListener('touchstart', this.handleTouchStart);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.rotationRatio = null;\n\t\tclearTimeout(this.transitionTimeout);\n\t\tthis.card.removeEventListener('mousedown', this.handleMouseDown);\n\t\twindow.removeEventListener('mouseup', this.handleMouseUp);\n\t\tthis.card.removeEventListener('touchstart', this.handleTouchStart);\n\t\twindow.removeEventListener('touchend', this.handleTouchEnd);\n\t\twindow.removeEventListener('mousemove', this.moveCard);\n\t\twindow.removeEventListener('touchmove', this.moveCard);\n\t}\n\n\thandleTouchStart = e => {\n\t\tconst event = e.targetTouches ? e.targetTouches[0] : e;\n\t\tthis.initialTouchX = event.screenX;\n\t\tthis.initialTouchY = event.screenY;\n\t\twindow.addEventListener('mousemove', this.moveCard);\n\t\twindow.addEventListener('touchmove', this.moveCard);\n\t\twindow.addEventListener('mouseup', this.handleTouchEnd);\n\t\twindow.addEventListener('touchend', this.handleTouchEnd);\n\t};\n\n\thandleTouchEnd = () => {\n\t\tif (!this.props.renderContent) {\n\t\t\treturn;\n\t\t}\n\t\twindow.removeEventListener('mousemove', this.moveCard);\n\t\twindow.removeEventListener('touchmove', this.moveCard);\n\t\twindow.removeEventListener('mouseup', this.handleTouchEnd);\n\t\twindow.removeEventListener('touchend', this.handleTouchEnd);\n\t\tthis.card.style.transform = null;\n\t\tthis.card.style.transition = null;\n\t\tdocument.querySelector('body').style.overflowY = null;\n\t\tif (this.rotationRatio <= -0.15) {\n\t\t\tthis.props.nextRestaurant(false);\n\t\t}\n\t};\n\n\tmoveCard = e => {\n\t\tif (!this.props.renderContent) {\n\t\t\treturn;\n\t\t}\n\t\tconst event = e.touches ? e.touches[0] : e;\n\t\tconst differenceX = event.screenX - this.initialTouchX;\n\t\tconst differenceY = event.screenY - this.initialTouchY;\n\t\tconst maxRotation = 60;\n\t\tconst rotation = maxRotation / (window.innerWidth / differenceX);\n\t\tthis.rotationRatio = rotation / maxRotation;\n\t\tdocument.querySelector('body').style.overflowY = 'hidden';\n\t\tthis.card.style.transition = 'none';\n\t\tthis.card.style.transform = `translate(${differenceX}px, ${differenceY}px) rotate(${rotation}deg)`;\n\t};\n\n\tgetRatingImgPath = () => {\n\t\tconst prefix = this.props.isMobile ? 'small' : 'regular';\n\t\tconst rating = this.props.restaurant.rating;\n\t\tconst isFloat = rating % 1 !== 0;\n\t\tconst num = isFloat ? Math.floor(rating) + '_half' : rating;\n\t\treturn `static/media/yelp_stars/web_and_ios/${prefix}/${prefix}_${num}.png`;\n\t};\n\n\trender() {\n\t\tconst cardClassList = [styles.card];\n\t\tif (this.props.isStacked) {\n\t\t\tcardClassList.push(styles.stackedCard);\n\t\t} else if (this.props.restaurantSelected) {\n\t\t\tcardClassList.push(styles.selectedCard);\n\t\t}\n\n\t\treturn (\n\t\t\t<div \n\t\t\t\tclassName={cardClassList.join(' ')} \n\t\t\t\tref={ref => this.card = ref}\n\t\t\t>\n\t\t\t{this.props.renderContent &&\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div className={styles.content}>\n\n\t\t\t\t\t{/* Restaurant image */}\n\t\t\t\t\t\t{!this.props.isMobile &&\n\t\t\t\t\t\t\t<div className={styles.imgContainer}>\n\t\t\t\t\t\t\t\t{!this.props.restaurant.image_url ? \n\t\t\t\t\t\t\t\t\t<p>This restaurant has no uploaded pictures.</p>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\t\thref={this.props.restaurant.image_url} \n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FlexibleImg \n\t\t\t\t\t\t\t\t\t\t\tsrc={this.props.restaurant.image_url}\n\t\t\t\t\t\t\t\t\t\t\talt={this.props.restaurant.name}\n\t\t\t\t\t\t\t\t\t\t\tparentDepth={2}\n\t\t\t\t\t\t\t\t\t\t\tdelay={500}\n\t\t\t\t\t\t\t\t\t\t\trestyleTriggers={[[this.props.restaurantSelected, 200]]}\n\t\t\t\t\t\t\t\t\t\t\tfitParentToImg={true}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t{/* Restaurant info and Yelp rating/logo */}\n\t\t\t\t\t\t<div className={styles.info}>\n\t\t\t\t\t\t\t<h1>{this.props.restaurant.name}</h1>\n\n\t\t\t\t\t\t\t<div className={styles.yelpInfo}>\n\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\tclassName={styles.reviewInfo}\n\t\t\t\t\t\t\t\t\thref={this.props.restaurant.url}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\ttitle={this.props.restaurant.rating + \" star rating\"}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\t\tsrc={this.getRatingImgPath()}\n\t\t\t\t\t\t\t\t\t\talt={this.props.restaurant.rating + \" star rating\"}\n\t\t\t\t\t\t\t\t\t></img>\n\t\t\t\t\t\t\t\t\t<p>Based on {this.props.restaurant.review_count} Reviews</p>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\thref={this.props.restaurant.url}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\t\tclassName={styles.yelpLogo}\n\t\t\t\t\t\t\t\t\t\tsrc='static/media/YelpLogo_Trademark/Screen(R)/Yelp_trademark_RGB_outline.png'\n\t\t\t\t\t\t\t\t\t\ttitle='www.yelp.com'\n\t\t\t\t\t\t\t\t\t\talt=\"Yelp logo\"\n\t\t\t\t\t\t\t\t\t></img>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Filter buttons */}\n\t\t\t\t\t\t\t<div className={styles.filterBtns}>\n\t\t\t\t\t\t\t\t{this.props.restaurant.price &&\n\t\t\t\t\t\t\t\t\t<FilterBtn\n\t\t\t\t\t\t\t\t\t\tcategory={this.props.restaurant.price}\n\t\t\t\t\t\t\t\t\t\trestaurantSelected={this.props.restaurantSelected}\n\t\t\t\t\t\t\t\t\t\tchangePrice={this.props.changePrice}\n\t\t\t\t\t\t\t\t\t\tkey={0}\n\t\t\t\t\t\t\t\t\t\tisMobile={this.props.isMobile}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t{this.props.restaurant.categories.map(category => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<FilterBtn\n\t\t\t\t\t\t\t\t\t\t\tcategory={category}\n\t\t\t\t\t\t\t\t\t\t\trestaurantSelected={this.props.restaurantSelected}\n\t\t\t\t\t\t\t\t\t\t\taddCategory={() => this.props.addCategory(category)}\n\t\t\t\t\t\t\t\t\t\t\taddFilter={() => this.props.addFilter(category)}\n\t\t\t\t\t\t\t\t\t\t\tkey={category.alias}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Address info and \"Show on Map\" link */}\n\t\t\t\t\t\t\t<div className={styles.addressInfo}>\n\t\t\t\t\t\t\t\t<div className={styles.fullAddress}>\n\t\t\t\t\t\t\t\t\t{this.props.restaurant.location.display_address.map(str => (\n\t\t\t\t\t\t\t\t\t\t <p key={str}>{str}</p>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button onClick={this.props.showOnMap}>\n\t\t\t\t\t\t\t\t\tShow on Map\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Contact info shown when restaurant is selected */}\n\t\t\t\t\t\t\t{this.props.restaurantSelected && \n\t\t\t\t\t\t\t\t<div className={styles.contactInfo}>\n\t\t\t\t\t\t\t\t\t<h2>Contact</h2>\n\t\t\t\t\t\t\t\t\t{this.props.restaurant.display_phone &&\n\t\t\t\t\t\t\t\t\t\t<p>Phone: {this.props.restaurant.display_phone}</p>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tFind more info on&nbsp;\n\t\t\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\t\t\thref={this.props.restaurant.url} \n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tthe {this.props.restaurant.name} Yelp page\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\n\t\t\t\t{/* Bottom action buttons */}\n\t\t\t\t\t{!this.props.restaurantSelected &&\n\t\t\t\t\t\t<div className={styles.actionBtns}>\n\t\t\t\t\t\t\t<ActionBtn id={0} action={() => this.props.nextRestaurant(false)} />\n\t\t\t\t\t\t\t<ActionBtn id={1} action={() => this.props.nextRestaurant(true)} />\n\t\t\t\t\t\t\t<ActionBtn id={2} action={this.props.selectRestaurant} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</React.Fragment>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default Card;","import { biSort } from 'commonUtils/miscFunctions';\n\n\nclass RestaurantsRequest {\n\tconstructor(component) {\n\t\tthis.location = component.props.location;\n\t\tthis.price = component.state.price;\n\t\tthis.categories = component.state.categories;\n\t\tthis.params = this.setParams();\n\t\tthis.resultsLog = [];\n\t}\n\n\tsetParams() {\n\t\tconst params = [`location=${this.location}`];\n\n\t\tif (this.price < 4) {\n\t\t\tconst priceList = [];\n\t\t\tfor (let i = 1; i <= this.price; i++) {\n\t\t\t\tpriceList.push(i);\n\t\t\t}\n\t\t\tparams.push(`price=${priceList.join(',')}`);\n\t\t}\n\n\t\tif (this.categories.length > 0) {\n\t\t\tconst aliases = this.categories.sortedAliases;\n\t\t\tparams.push(`categories=${aliases.join(',')}`);\n\t\t}\n\n\t\treturn params.join('&');\t\n\t}\n\n\tget offset() {\n\t\treturn this.resultsLog.reduce((sum, x) => sum + x);\n\t}\n\n\tget canFetchMore() {\n\t\tconst resultsLength = this.resultsLog.length;\n\t\treturn resultsLength === 0 || \n\t\t\t(this.resultsLog[resultsLength - 1] === 50 && this.offset <= 950);\n\t}\n\n\tget url() {\n\t\tlet url = '/api/restaurants?' + this.params;\n\t\tif (this.resultsLog.length > 0) {\n\t\t\turl += `&offset=${this.offset}`;\n\t\t}\n\t\treturn url;\n\t}\n}\n\n\nfunction getOrCreateRequest(component) {\n\tfor (const request of component.requestsLog) {\n\t\tif (component.props.location === request.location &&\n\t\t\t\tcomponent.state.price === request.price &&\n\t\t\t\tcomponent.state.categories.isEqualTo(request.categories)) {\n\t\t\treturn request;\n\t\t}\n\t}\n\tconst request = new RestaurantsRequest(component);\n\tcomponent.requestsLog.push(request);\n\treturn request;\n}\n\n\n// Stops scrollbar flickering on card transitions\nfunction stopOverflow(component) {\n\tconst body = document.querySelector('body');\n\tbody.style.overflowY = 'hidden';\n\tcomponent.overflowTimeout = setTimeout(() => body.style.overflowY = 'auto', 400);\n}\n\n\nfunction discardThroughPrice(price, restaurants) {\n\treturn biSort(r => (!r.price || r.price.length <= price), restaurants);\n}\n\n\nfunction discardDuplicates(seenRestaurants, restaurants) {\n\treturn restaurants.filter(r => !restaurantIsIncluded(seenRestaurants, r));\n}\n\n\nfunction restaurantIsIncluded(list, restaurant) {\n\tfor (const r of list) {\n\t\tif (r.id === restaurant.id) return true;\n\t}\n}\n\n\nfunction retrieveDiscarded(component, params) {\n\tconst price = params.price || component.state.price;\n\tconst categories = params.categories || component.state.categories;\n\tconst filters = params.filters || component.state.filters;\n\n\tconst biSortCallback = restaurant => {\n\t\treturn categories.hasCommon(restaurant.categories) &&\n\t\t\t!filters.hasCommon(restaurant.categories) &&\n\t\t\t(!restaurant.price || restaurant.price.length <= price);\n\t}\n\treturn biSort(biSortCallback, component.discarded);\n}\n\n\nfunction sortInOrder(orderedList, unorderedList) {\n\treturn orderedList.filter(r => restaurantIsIncluded(unorderedList, r));\n}\n\n\nexport { \n\tgetOrCreateRequest, stopOverflow, discardThroughPrice, \n\tdiscardDuplicates, retrieveDiscarded, sortInOrder\n}","import React from 'react';\nimport styles from 'styles/LoadingRing.module.scss';\n\n\n// Make sure to specify color and size in this component's parent container.\n// Parent container must have equal height and width to look right.\n\nfunction LoadingRing(props) {\n\treturn (\n\t\t<div className={styles.ldsRing}>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t</div>\n\t);\n}\n\n\nexport default LoadingRing;","import React from 'react';\nimport styles from 'styles/MapModal.module.scss';\nimport LoadingRing from './LoadingRing';\n\n\nclass MapModal extends React.Component {\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.render && !prevProps.render) {\n\t\t\twindow.addEventListener('keydown', this.handleKeyDown);\n\t\t} else if (!this.props.render && prevProps.render) {\n\t\t\twindow.removeEventListener('keydown', this.handleKeyDown);\n\t\t}\n\t}\n\n\tgetSrc = () => {\n\t\tconst restaurant = this.props.restaurant;\n\t\tif (this.props.render && (!this.restaurant || this.restaurant !== restaurant)) {\n\t\t\tthis.restaurant = restaurant;\n\t\t\tconst urledAddress = restaurant.location.address1.replace(/ /g, '+');\n\t\t\tconst urledCity = restaurant.location.city.replace(/ /g, '+');\n\t\t\tconst state = restaurant.location.state;\n\t\t\tconst location = `${urledAddress},${urledCity}+${state}`;\n\t\t\tthis.src = `https://www.google.com/maps/embed/v1/place?key=AIzaSyDKqk8m58bRFV5vCV5Wf-lPdzCfZtYZlcE&q=${location}`;\n\t\t}\n\t\treturn this.src;\n\t};\n\n\thandleKeyDown = e => {\n\t\tif (e.key === \"Escape\") {\n\t\t\tthis.props.onClose();\n\t\t}\n\t};\n\n\thandleClick = () => {\n\t\tthis.props.onClose();\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t{this.props.render &&\n\t\t\t\t<div className={styles.modal} onClick={this.handleClick}>\n\t\t\t\t\t<i \n\t\t\t\t\t\tclassName=\"fas fa-times fa-2x\"\n\t\t\t\t\t\tonClick={this.props.onClose}\n\t\t\t\t\t></i>\n\t\t\t\t\t<div className={styles.loadingRingContainer}>\n\t\t\t\t\t\t<LoadingRing />\n\t\t\t\t\t</div>\n\t\t\t\t\t<iframe \n\t\t\t\t\t\tsrc={this.getSrc()} \n\t\t\t\t\t\ttitle=\"Google Map centered on current restaurant\"\n\t\t\t\t\t>\n\t\t\t\t\t</iframe>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nexport default MapModal;","import React from 'react';\nimport styles from 'styles/Sidebar.module.scss';\nimport { isDescendant } from 'commonUtils/miscFunctions';\n\n\nclass Sidebar extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.mql = window.matchMedia('(min-width: 1840px)');\n\t\tthis.state = {expanded: this.mql.matches}\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('click', this.handleWindowClick);\n\t\tthis.container.addEventListener('transitionend', this.handleTransitionEnd);\n\t\tif (!this.state.expanded) {\n\t\t\tthis.contentDiv.style.display = 'none';\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.container.removeEventListener('transitionend', this.handleTransitionEnd);\n\t\twindow.removeEventListener('click', this.handleWindowClick);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (!this.state.expanded && prevState.expanded) {\n\t\t\tthis.contentDiv.style.display = 'none';\n\t\t}\n\t}\n\n\thandleWindowClick = e => {\n\t\tif (this.mql.matches || !this.state.expanded) {\n\t\t\treturn;\n\t\t} else if (!isDescendant(this.container, e.target)) {\n\t\t\tthis.setState({expanded: false});\n\t\t}\n\t};\n\n\thandleTabClick = () => {\n\t\tthis.setState({expanded: !this.state.expanded});\n\t};\n\n\thandleTransitionEnd = e => {\n\t\tif (e.target === this.container && this.state.expanded) {\n\t\t\tthis.contentDiv.style.display = null;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst classList = [styles.sidebar];\n\t\tif (this.state.expanded) {\n\t\t\tclassList.push(styles.expanded);\n\t\t}\n\n\t\tconst fasClass = this.state.expanded ? 'fa-chevron-right' : 'fa-chevron-left';\n\n\t\treturn (\n\t\t\t<div className={classList.join(' ')} ref={ref => this.container = ref}>\n\t\t\t\t<div className={styles.tab} onClick={this.handleTabClick}>\n\t\t\t\t\t<i className={'fas ' + fasClass + ' fa-lg'}></i>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.content} ref={ref => this.contentDiv = ref}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default Sidebar;","import React from 'react';\nimport styles from 'styles/PriceSelection.module.scss';\n\n\nclass PriceSelection extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tselectedPrice: props.price,\n\t\t\thoveredPrice: null,\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.price !== prevProps.price) {\n\t\t\tthis.setState({selectedPrice: this.props.price});\n\t\t}\n\t}\n\n\thandleMouseEnter = i => {\n\t\tif (i !== this.state.hoveredPrice) {\n\t\t\tthis.setState({hoveredPrice: i});\n\t\t}\n\t};\n\n\thandleMouseLeave = () => {\n\t\tthis.setState({hoveredPrice: null});\n\t};\n\n\trender() {\n\t\tconst pricePoints = [];\n\t\tfor (let i = 1; i <= 4; i++) {\n\t\t\tconst priceClassList = [styles.priceSign];\n\t\t\tif (this.state.hoveredPrice && i <= this.state.hoveredPrice) {\n\t\t\t\tpriceClassList.push(styles.activePricePoint);\n\t\t\t} else if (!this.state.hoveredPrice && i <= this.state.selectedPrice) {\n\t\t\t\tpriceClassList.push(styles.activePricePoint);\n\t\t\t}\n\t\t\tpricePoints.push(\n\t\t\t\t<span\n\t\t\t\t\tkey={i}\n\t\t\t\t\tclassName={priceClassList.join(' ')}\n\t\t\t\t\tonMouseEnter={() => this.handleMouseEnter(i)}\n\t\t\t\t\tonClick={() => this.setState({selectedPrice: i})}\n\t\t\t\t\ttitle={`Set maximum price to ${'$'.repeat(i)}`}\n\t\t\t\t>$</span>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={styles.container}>\n\t\t\t\t<div onMouseLeave={this.handleMouseLeave}>{pricePoints}</div>\n\t\t\t\t<button\n\t\t\t\t\tdisabled={this.state.selectedPrice === this.props.price}\n\t\t\t\t\tonClick={() => this.props.onPriceChange(this.state.selectedPrice)}\n\t\t\t\t>\n\t\t\t\t\tApply Change\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default PriceSelection;","import React from 'react';\nimport styles from 'styles/ActiveItemList.module.scss';\n\n\nfunction ActiveItemList(props) {\n\treturn (\n\t\tprops.list.length === 0 ? \n\t\t\t<p>{props.emptyListText}</p> :\n\t\t\t<ul>\n\t\t\t\t{props.list.map((item, i) => (\n\t\t\t\t\t<div className={styles.item} key={i}>\n\t\t\t\t\t\t<li>{item.title}</li>\n\t\t\t\t\t\t<button onClick={() => props.handleDeleteItem(item)}>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</ul>\n\t);\n}\n\n\nexport default ActiveItemList;","import React from 'react';\nimport styles from 'styles/AddItemsList.module.scss';\n\n\nfunction AddItemsList(props) {\n\tconst items = props.items.map(item => {\n\t\tconst bulletClassList = [styles.bullet];\n\t\tif (props.selectedItems.contains(item)) {\n\t\t\tbulletClassList.push(styles.selected);\n\t\t}\n\t\treturn (\n\t\t\t<div \n\t\t\t\tkey={item.alias}\n\t\t\t\tclassName={styles.item} \n\t\t\t\tonClick={() => props.toggleSelection(item)}\n\t\t\t>\n\t\t\t\t<div className={bulletClassList.join(' ')}></div>\n\t\t\t\t<span>{item.title}</span>\n\t\t\t</div>\n\t\t)\n\t});\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className={styles.container}>\n\t\t\t\t{items}\n\t\t\t</div>\n\t\t\t<div className={styles.footer}>\n\t\t\t\n\t\t\t</div>\n\t\t</React.Fragment>\n\t);\n}\n\n\nexport default AddItemsList;","/* Used for Yelp category objects, which contain name and alias properties */\n\n\nimport { biSort } from './miscFunctions';\n\n\nexport class CategoryList extends Array {\n\tcontains(item) {\n\t\tfor (const c of this) {\n\t\t\tif (c.alias === item.alias) return true;\n\t\t}\n\t}\n\n\thasCommon(items) {\n\t\tfor (const item of items) {\n\t\t\tif (this.contains(item)) return true;\n\t\t}\n\t}\n\n\tisEqualTo(items) {\n\t\tif (this.length !== items.length) return false;\n\t\tfor (const item of items) {\n\t\t\tif (!this.contains(item)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tadd(items) {\n\t\tif (!Array.isArray(items)) {\n\t\t\titems = [items];\n\t\t}\n\t\treturn this.concat(items.filter(item => !this.contains(item)));\n\t}\n\n\tremove(item) {\n\t\tfor (let i = 0; i < this.length; i++) {\n\t\t\tif (this[i].alias === item.alias) {\n\t\t\t\treturn this.slice(0, i).concat(this.slice(i + 1));\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggle(item) {\n\t\treturn this.remove(item) || this.concat([item]);\n\t}\n\n\tget sortedAliases() {\n\t\treturn this.map(c => c.alias).sort();\n\t}\n}\n\n\nexport class Categories extends CategoryList {\n\thasCommon(items) {\n\t\treturn this.length === 0 || super.hasCommon(items);\n\t}\n\t\n\tdiscard(restaurants) {\n\t\treturn biSort(r => this.hasCommon(r.categories), restaurants);\n\t}\n}\n\n\nexport class Filters extends CategoryList {\n\tdiscard(restaurants) {\n\t\treturn biSort(r => !this.hasCommon(r.categories), restaurants);\n\t}\n}\n\n\nexport class SeenCategories extends CategoryList {\n\taddUnseen(restaurants) {\n\t\tconst reducerCallback = (categoryList, restaurant) => categoryList.concat(\n\t\t\trestaurant.categories.filter(c => !categoryList.contains(c))\n\t\t);\n\t\treturn restaurants.reduce(reducerCallback, this);\n\t}\n}","import React from 'react';\nimport styles from 'styles/FiltersDashboard.module.scss';\nimport PriceSelection from './PriceSelection';\nimport ActiveItemList from './ActiveItemList';\nimport AddItemsList from './AddItemsList';\nimport { CategoryList } from 'commonUtils/CategoryClasses';\n\n\nclass FiltersDashboard extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdisplay: 'current filters',\n\t\t\tselectedCategories: new CategoryList(),\n\t\t\tselectedFilters: new CategoryList(),\n\t\t\tselectedPrice: props.price,\n\t\t}\n\t}\n\n\tgetCurrentFilterList = () => {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<h2>Maximum price:</h2>\n\t\t\t\t<PriceSelection \n\t\t\t\t\tprice={this.props.price} \n\t\t\t\t\tonPriceChange={this.props.changePrice}\n\t\t\t\t/>\n\t\t\t\t<h2>Don't show me:</h2>\n\t\t\t\t<ActiveItemList\n\t\t\t\t\tlist={this.props.filters}\n\t\t\t\t\temptyListText=\"You haven't made any exclusions yet.\"\n\t\t\t\t\thandleDeleteItem={this.props.removeFilter}\n\t\t\t\t/>\n\t\t\t\t<h2>Only show me:</h2>\n\t\t\t\t<ActiveItemList\n\t\t\t\t\tlist={this.props.categories}\n\t\t\t\t\temptyListText=\"You haven't made any inclusions yet.\"\n\t\t\t\t\thandleDeleteItem={this.props.removeCategory}\n\t\t\t\t/>\t\t\t\n\t\t\t</React.Fragment>\n\t\t);\n\t};\n\n\tgetAddItemsList = (list, selectedList) => {\n\t\tconst items = this.props.seenCategories.filter(c => !list.contains(c));\n\n\t\tlet toggleSelection;\n\t\tlet applyChanges;\n\t\tlet headerText;\n\t\tswitch (selectedList) {\n\t\t\tcase this.state.selectedCategories:\n\t\t\t\ttoggleSelection = this.toggleCategory;\n\t\t\t\tapplyChanges = this.addCategories;\n\t\t\t\theaderText = 'Only show me:'\n\t\t\t\tbreak;\n\t\t\tcase this.state.selectedFilters:\n\t\t\t\ttoggleSelection = this.toggleFilter;\n\t\t\t\tapplyChanges = this.addFilters;\n\t\t\t\theaderText = \"Don't show me:\"\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={styles.addItemsHeader}>\n\t\t\t\t\t<h2>{headerText}</h2>\n\t\t\t\t\t<button \n\t\t\t\t\t\tonClick={applyChanges} \n\t\t\t\t\t\tdisabled={selectedList.length === 0}\n\t\t\t\t\t>\n\t\t\t\t\t\tApply Changes\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<AddItemsList \n\t\t\t\t\titems={items} \n\t\t\t\t\tselectedItems={selectedList}\n\t\t\t\t\ttoggleSelection={toggleSelection}\n\t\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t);\n\t};\n\n\taddCategories = () => {\n\t\tthis.props.addCategory(this.state.selectedCategories);\n\t\tthis.setState({\n\t\t\tselectedCategories: new CategoryList(), display: 'current filters'\n\t\t});\n\t};\n\n\taddFilters = () => {\n\t\tthis.props.addFilter(this.state.selectedFilters);\n\t\tthis.setState({\n\t\t\tselectedFilters: new CategoryList(), display: 'current filters'\n\t\t});\n\t};\n\n\ttoggleCategory = category => {\n\t\tconst selectedCategories = this.state.selectedCategories.toggle(category);\n\t\tthis.setState({selectedCategories});\n\t};\n\n\ttoggleFilter = filter => {\n\t\tconst selectedFilters = this.state.selectedFilters.toggle(filter);\n\t\tthis.setState({selectedFilters});\n\t};\n\n\trender() {\n\t\tconst currentFiltersClassList = [styles.tab];\n\t\tconst addInclusionClassList = [styles.tab];\n\t\tconst addExclusionClassList = [styles.tab];\n\t\tlet displayContent;\n\n\t\tswitch (this.state.display) {\n\t\t\tcase 'current filters':\n\t\t\t\tcurrentFiltersClassList.push(styles.activeTab);\n\t\t\t\tdisplayContent = this.getCurrentFilterList();\n\t\t\t\tbreak;\n\n\t\t\tcase 'add inclusion':\n\t\t\t\taddInclusionClassList.push(styles.activeTab);\n\t\t\t\tdisplayContent = this.getAddItemsList(\n\t\t\t\t\tthis.props.categories, this.state.selectedCategories\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'add exclusion':\n\t\t\t\taddExclusionClassList.push(styles.activeTab);\n\t\t\t\tdisplayContent = this.getAddItemsList(\n\t\t\t\t\tthis.props.filters, this.state.selectedFilters\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={styles.dashboardContainer}>\n\n\t\t\t{/* Tabs at top that select what content is shown */}\n\t\t\t\t<div className={styles.tabs}>\n\t\t\t\t\t<div \n\t\t\t\t\t\tclassName={currentFiltersClassList.join(' ')}\n\t\t\t\t\t\tonClick={() => this.setState({display: 'current filters'})}\n\t\t\t\t\t>\n\t\t\t\t\t\tCurrent Filters\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.addTabs}>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tclassName={addInclusionClassList.join(' ')}\n\t\t\t\t\t\t\tonClick={() => this.setState({display: 'add inclusion'})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd Inclusions\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tclassName={addExclusionClassList.join(' ')}\n\t\t\t\t\t\t\tonClick={() => this.setState({display: 'add exclusion'})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd Exclusions\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t{/* Content determined by selected tab */}\n\t\t\t\t<div className={styles.content}>{displayContent}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default FiltersDashboard;","import React from 'react';\nimport Card from './Card';\nimport styles from 'styles/SuggestRestaurants.module.scss';\nimport * as utils from './utils';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport fetch from 'unfetch';\n\nimport MapModal from 'components/common/MapModal';\nimport Sidebar from 'components/common/Sidebar';\nimport LoadingRing from 'components/common/LoadingRing';\nimport FiltersDashboard from 'components/common/FiltersDashboard';\nimport { Categories, Filters, SeenCategories } from 'commonUtils/CategoryClasses';\n\n\nconst initialState = {\n\trestaurants: [],\n\thistory: [],\n\tcategories: new Categories(),\n\tfilters: new Filters(),\n\tloading: true,\n\tsavedRestaurants: [],\n\trenderMapModal: false,\n\trestaurantSelected: false,\n\tprice: 4,\n\tseenCategories: new SeenCategories(),\n\tbadRequest: false,\n}\n\n\nclass SuggestRestaurants extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = initialState;\n\t\tthis.requestsLog = [];\n\t\tthis.discarded = [];\n\t\tthis.allSeenRestaurants = [];\n\t}\n\n\tsetState = (...args) => {\n\t\tsuper.setState(...args);\n\t\tutils.stopOverflow(this);\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.getRestaurants();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.props.location !== prevProps.location) {\n\t\t\tthis.requestsLog = [];\n\t\t\tthis.discarded = [];\n\t\t\tthis.allSeenRestaurants = [];\n\t\t\tthis.setState(initialState, this.getRestaurants);\n\t\t} else if (this.state.restaurants.length !== prevState.restaurants.length &&\n\t\t\tthis.state.restaurants.length <= 12) {\n\t\t\tthis.getRestaurants();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.overflowTimeout);\n\t}\n\n\tgetRestaurants = async () => {\n\t\tconst request = utils.getOrCreateRequest(this);\n\t\tif (request.canFetchMore) {\n\t\t\tconst resp = await fetch(request.url);\n\t\t\tif (!resp.ok) {\n\t\t\t\tthis.setState({badRequest: true, loading: false});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst data = await resp.json();\n\n\t\t\trequest.resultsLog.push(data.businesses.length);\n\t\t\tlet restaurants = utils.discardDuplicates(\n\t\t\t\tthis.allSeenRestaurants, data.businesses\n\t\t\t);\n\t\t\tthis.allSeenRestaurants = this.allSeenRestaurants.concat(restaurants);\n\n\t\t\tif (this.state.filters.length > 0) {\n\t\t\t\tlet newlyDiscarded;\n\t\t\t\t[restaurants, newlyDiscarded] = this.state.filters.discard(restaurants);\n\t\t\t\tthis.discarded = this.discarded.concat(newlyDiscarded);\n\t\t\t};\n\n\t\t\tconst seenCategories = this.state.seenCategories.addUnseen(restaurants);\n\t\t\tthis.setState({\n\t\t\t\trestaurants: this.state.restaurants.concat(restaurants), \n\t\t\t\tloading: false, \n\t\t\t\tseenCategories\n\t\t\t});\n\t\t}\t\n\t};\n\n\tnextRestaurant = saveRestaurant => {\n\t\tconst history = this.state.history.concat([this.state]);\n\t\tconst restaurants = this.state.restaurants.slice(1);\n\t\tconst savedRestaurants = this.state.savedRestaurants.slice();\n\t\tif (saveRestaurant) {\n\t\t\tsavedRestaurants.push(this.state.restaurants[0]);\n\t\t}\n\t\tthis.setState({history, restaurants, savedRestaurants});\n\t};\n\n\tundo = () => {\n\t\tconst historyState = this.state.history[this.state.history.length - 1];\n\t\tthis.setState(historyState);\n\t};\n\n\taddCategory = newCategories => {\n\t\tconst categories = this.state.categories.add(newCategories);\n\t\tconst [restaurants, newlyDiscarded] = categories.discard(\n\t\t\tthis.state.restaurants\n\t\t);\n\t\tthis.discarded = this.discarded.concat(newlyDiscarded);\n\t\tconst history = this.state.history.concat([this.state]);\n\t\tthis.setState({categories, restaurants, history});\n\t};\n\n\taddFilter = newFilters => {\n\t\tconst filters = this.state.filters.add(newFilters);\n\t\tconst [restaurants, newlyDiscarded] = filters.discard(this.state.restaurants);\n\t\tthis.discarded = this.discarded.concat(newlyDiscarded);\n\t\tconst history = this.state.history.concat([this.state]);\n\t\tthis.setState({filters, restaurants, history});\n\t};\n\n\tchangePrice = price => {\n\t\tif (price < 1 || price === this.state.price) return;\n\t\tlet retrieved = [];\n\t\tif (price > this.state.price) {\n\t\t\t[retrieved, this.discarded] = utils.retrieveDiscarded(this, {price});\n\t\t}\n\t\tlet [restaurants, newlyDiscarded] = utils.discardThroughPrice(\n\t\t\tprice, this.state.restaurants\n\t\t);\n\t\trestaurants = utils.sortInOrder(\n\t\t\tthis.allSeenRestaurants, restaurants.concat(retrieved)\n\t\t);\n\t\tthis.discarded = this.discarded.concat(newlyDiscarded);\n\t\tconst history = this.state.history.concat([this.state]);\n\t\tthis.setState({restaurants, price, history});\n\t};\n\n\tbringBackSavedRestaurants = () => {\n\t\tconst history = this.state.history.concat([this.state]);\n\t\tthis.setState({\n\t\t\trestaurants: this.state.savedRestaurants.concat(this.state.restaurants),\n\t\t\tsavedRestaurants: [],\n\t\t\thistory,\n\t\t});\n\t};\n\n\tselectRestaurant = () => {\n\t\tconst history = this.state.history.concat([this.state]);\n\t\tthis.setState({restaurantSelected: true, history});\n\t};\n\n\tremoveCategory = category => {\n\t\tconst categories = this.state.categories.remove(category);\n\t\tlet retrieved = [];\n\t\t[retrieved, this.discarded] = utils.retrieveDiscarded(this, {categories});\n\t\tconst restaurants = utils.sortInOrder(\n\t\t\tthis.allSeenRestaurants, this.state.restaurants.concat(retrieved)\n\t\t);\n\t\tconst history = this.state.history.concat([this.state]);\n\t\tthis.setState({categories, history, restaurants});\n\t};\n\n\tremoveFilter = filter => {\n\t\tconst filters = this.state.filters.remove(filter);\n\t\tlet retrieved = [];\n\t\t[retrieved, this.discarded] = utils.retrieveDiscarded(this, {filters});\n\t\tconst restaurants = utils.sortInOrder(\n\t\t\tthis.allSeenRestaurants, this.state.restaurants.concat(retrieved)\n\t\t);\n\t\tconst history = this.state.history.concat([this.state]);\n\t\tthis.setState({filters, history, restaurants});\n\t};\n\n\trender() {\n\t\tconst stackedCards = this.state.restaurants.slice(0, 11).map((r, i) => (\n\t\t\t<CSSTransition\n\t\t\t\tkey={r.id}\n\t\t\t\ttimeout={300}\n\t\t\t\tunmountOnExit\n\t\t\t\tclassNames={{\n\t\t\t\t\tenter: styles.cardEnter,\n\t\t\t\t\tenterActive: styles.cardEnterActive,\n\t\t\t\t\texit: styles.cardExit,\n\t\t\t\t\texitActive: styles.cardExitActive,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Card\n\t\t\t\t\trenderContent={i <= 1}\n\t\t\t\t\tisStacked={i > 0}\n\t\t\t\t\trestaurant={r}\n\t\t\t\t\tisMobile={this.props.isMobile}\n\t\t\t\t\tnextRestaurant={this.nextRestaurant}\n\t\t\t\t\taddCategory={this.addCategory}\n\t\t\t\t\taddFilter={this.addFilter}\n\t\t\t\t\tchangePrice={this.changePrice}\n\t\t\t\t\tshowOnMap={() => this.setState({renderMapModal: true})}\n\t\t\t\t\tselectRestaurant={this.selectRestaurant}\n\t\t\t\t\trestaurantSelected={this.state.restaurantSelected}\n\t\t\t\t/>\n\t\t\t</CSSTransition>\n\t\t));\n\n\t\tconst stackClass = !this.state.restaurantSelected ?\n\t\t\tstyles.cardStack : styles.selectedCardContainer;\n\n\t\tlet message;\n\t\tif (!this.state.loading && this.state.badRequest) {\n\t\t\tmessage = \"Yelp's API seems to be down. Please try again later.\"\n\t\t} else if (!this.state.loading && this.state.restaurants.length === 0) {\n\t\t\tmessage = \"We couldn't find any more restaurants for this search area. Try widening your search or using less filters.\"\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={styles.suggestRestaurants}>\n\n\t\t\t\t{/* Loading ring while fetching restaurants */}\n\t\t\t\t\t{this.state.loading &&\n\t\t\t\t\t\t<div className={styles.loadingSection}>\n\t\t\t\t\t\t\t<div className={styles.loadingRingContainer}>\n\t\t\t\t\t\t\t\t<LoadingRing />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h2>Retrieving restaurants...</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\n\t\t\t\t{/* Card stack with restaurants \n\t\t\t\t\t\t(or single card if restaurant was selected) */}\n\t\t\t\t\t{this.state.restaurants.length > 0 &&\n\t\t\t\t\t\t<TransitionGroup className={stackClass}>\n\t\t\t\t\t\t\t{stackedCards}\n\t\t\t\t\t\t</TransitionGroup>\n\t\t\t\t\t}\n\n\t\t\t\t{/* Undo buttons */}\n\t\t\t\t\t<div className={styles.historyBtns}>\n\t\t\t\t\t\t{this.state.history.length > 0 &&\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tclassName={styles.undoBtn} \n\t\t\t\t\t\t\t\tonClick={this.undo}\n\t\t\t\t\t\t\t\ttitle=\"Undo\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-undo fa-lg\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{this.state.savedRestaurants.length > 0 &&\n\t\t\t\t\t\t\t!this.state.restaurantSelected &&\n\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\tclassName={styles.savedRestaurantsBtn} \n\t\t\t\t\t\t\t\ttitle=\"Saved Restaurants\"\n\t\t\t\t\t\t\t\tonClick={this.bringBackSavedRestaurants}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tBring back saved restaurants\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\n\t\t\t\t{/* Message if no restaurants found */}\n\t\t\t\t\t{message &&\n\t\t\t\t\t\t<div className={styles.messageSection}>\n\t\t\t\t\t\t\t<h2>{message}</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\t\t\t\t<MapModal \n\t\t\t\t\trender={this.state.renderMapModal}\n\t\t\t\t\trestaurant={this.state.restaurants[0]}\n\t\t\t\t\tonClose={() => this.setState({renderMapModal: false})}\n\t\t\t\t/>\n\n\t\t\t{/* Sidebar with category selection */}\n\t\t\t\t{!this.state.restaurantSelected &&\n\t\t\t\t\t<Sidebar>\n\t\t\t\t\t\t<FiltersDashboard \n\t\t\t\t\t\t\tcategories={this.state.categories}\n\t\t\t\t\t\t\tfilters={this.state.filters}\n\t\t\t\t\t\t\tseenCategories={this.state.seenCategories}\n\t\t\t\t\t\t\tprice={this.state.price}\n\t\t\t\t\t\t\tchangePrice={this.changePrice}\n\t\t\t\t\t\t\tremoveFilter={this.removeFilter}\n\t\t\t\t\t\t\tremoveCategory={this.removeCategory}\n\t\t\t\t\t\t\taddCategory={this.addCategory}\n\t\t\t\t\t\t\taddFilter={this.addFilter}\n\t\t\t\t\t\t\tsaveRestaurants={this.state.savedRestaurants}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Sidebar>\n\t\t\t\t}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nexport default SuggestRestaurants;","import React from 'react';\nimport Home from './Home';\nimport SuggestRestaurants from './SuggestRestaurants';\nimport styles from 'styles/Main.module.scss';\n\n\nfunction Main(props) {\n\treturn (\n\t\t<main className={styles.main}>\n\t\t\t{props.location === null ?\n\t\t\t\t<Home /> :\n\t\t\t\t<SuggestRestaurants \n\t\t\t\t\tlocation={props.location}\n\t\t\t\t\tisMobile={props.isMobile}\n\t\t\t\t/>\n\t\t\t}\n\t\t</main>\n\t);\n}\n\n\nexport default Main;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\n\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.mql = window.matchMedia('(max-width: 650px)');\n\t\tthis.state = {\n\t\t\tisMobile: this.mql.matches,\n\t\t\tuserLocation: null,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.mql.addListener(this.handleResize);\n\t\twindow.addEventListener('popstate', this.handlePopstate);\n\t\tconst userLocation = localStorage.getItem('userLocation');\n\t\tif (userLocation !== null) {\n\t\t\twindow.history.replaceState({userLocation: userLocation}, '', '/suggest');\n\t\t\tthis.setState({userLocation});\n\t\t} else {\n\t\t\twindow.history.replaceState({userLocation: null}, '', '/');\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.mql.removeListener(this.handleResize);\n\t\twindow.removeEventListener('popstate', this.handlePopstate);\n\t}\n\n// On page change store and retrieve userLocation in localStorage\n\thandlePopstate = event => {\n\t\tconst value = event.state === null ? null : event.state.userLocation;\n\t\tthis.setState({userLocation: value});\n\t\tif (value === null) {\n\t\t\tlocalStorage.removeItem('userLocation');\n\t\t} else {\n\t\t\tlocalStorage.setItem('userLocation', value);\n\t\t}\n\t};\n\n\thandleResize = mql => {\n\t\tif (mql.matches && !this.state.isMobile) {\n\t\t\tthis.setState({isMobile: true});\n\t\t} else if (!mql.matches && this.state.isMobile) {\n\t\t\tthis.setState({isMobile: false});\n\t\t}\n\t};\n\n\tgoHome = () => {\n\t\tif (this.state.userLocation === null) {\n\t\t\twindow.scroll({top: 0, left: 0, behavior: 'smooth'});\n\t\t} else {\n\t\t\twindow.history.pushState({userLocation: null}, '', '/');\n\t\t\tlocalStorage.removeItem('userLocation');\n\t\t\tthis.setState({userLocation: null});\n\t\t}\n\t};\n\n\tsetLocation = value => {\n\t\twindow.history.pushState({userLocation: value}, '', '/suggest');\n\t\tthis.setState({userLocation: value});\n\t\tlocalStorage.setItem('userLocation', value);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Header \n\t\t\t\t\tisMobile={this.state.isMobile} \n\t\t\t\t\tlocation={this.state.userLocation}\n\t\t\t\t\tsetLocation={value => this.setLocation(value)}\n\t\t\t\t\tgoHome={this.goHome}\n\t\t\t\t/>\n\t\t\t\t<Main \n\t\t\t\t\tlocation={this.state.userLocation}\n\t\t\t\t\tisMobile={this.state.isMobile}\n\t\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'sanitize.css';\nimport 'index.scss';\nimport App from 'components/App';\nimport * as serviceWorker from 'serviceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();"],"sourceRoot":""}