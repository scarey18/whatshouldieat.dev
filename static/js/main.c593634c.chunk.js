(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={card:"Card_card__1ZpjA",reviewInfo:"Card_reviewInfo__2zIVF",isMobile:"Card_isMobile__ybtIO",yelpInfo:"Card_yelpInfo__248dv",filterBtns:"Card_filterBtns__2aMr2",stackedCard:"Card_stackedCard__3qjFi",content:"Card_content__32sS9",fadeIn:"Card_fadeIn__25wGG",imgContainer:"Card_imgContainer__Y5Toc",mobileImg:"Card_mobileImg__sA5gC",info:"Card_info__1Wcuv",yelpLogo:"Card_yelpLogo__1-gLI",addressInfo:"Card_addressInfo__217MO",fullAddress:"Card_fullAddress__1KSJW",contactInfo:"Card_contactInfo__2KD0G",actionBtns:"Card_actionBtns__S2Yon"}},function(e,t,a){e.exports={suggestRestaurants:"SuggestRestaurants_suggestRestaurants__6UVzm",loadingSection:"SuggestRestaurants_loadingSection__a_T_1",historyBtns:"SuggestRestaurants_historyBtns__2sIm9",loadingRingContainer:"SuggestRestaurants_loadingRingContainer__1MxRv",cardStack:"SuggestRestaurants_cardStack__1vLjB",selectedCardContainer:"SuggestRestaurants_selectedCardContainer__15sVS",messageSection:"SuggestRestaurants_messageSection__7iojA",slideDown:"SuggestRestaurants_slideDown__31kWJ",selectCard:"SuggestRestaurants_selectCard__18q9j",flashYellow:"SuggestRestaurants_flashYellow__316Bk",cardEnter:"SuggestRestaurants_cardEnter__2b_ZH",cardEnterActive:"SuggestRestaurants_cardEnterActive__2Ufvf",cardExit:"SuggestRestaurants_cardExit__J2NZS",cardExitActive:"SuggestRestaurants_cardExitActive__2Cdyp",fadeIn:"SuggestRestaurants_fadeIn__3--OL"}},function(e,t,a){e.exports={dashboardContainer:"FiltersDashboard_dashboardContainer__3NRcS",tabs:"FiltersDashboard_tabs__3iIM-",tab:"FiltersDashboard_tab__2KwFy",addTabs:"FiltersDashboard_addTabs__30z-I",activeTab:"FiltersDashboard_activeTab__2vT24",content:"FiltersDashboard_content__3I0qr",fadeIn:"FiltersDashboard_fadeIn__3zozd"}},,function(e,t,a){e.exports={filterBtn:"FilterBtn_filterBtn__vJkYU",filterOption:"FilterBtn_filterOption__2K83P",filterContainer:"FilterBtn_filterContainer__2GD5I",disabled:"FilterBtn_disabled__Lr5Ld",focused:"FilterBtn_focused__3RU6-",border:"FilterBtn_border__2fJD5",expanded:"FilterBtn_expanded__2AO_W",firstOption:"FilterBtn_firstOption__25tqE",fadeIn:"FilterBtn_fadeIn__1JMZQ"}},function(e,t,a){e.exports={permanentContent:"Header_permanentContent__3ql1a",expandedContent:"Header_expandedContent__3HWJX",header:"Header_header__DFhBc",scrollBtn:"Header_scrollBtn__3zPhQ",expandedMain:"Header_expandedMain__3mssU",expanded:"Header_expanded__30ROW",searchContainer:"Header_searchContainer__3n5qy",fadeIn:"Header_fadeIn__1t5wu"}},function(e,t,a){e.exports={searchBar:"SearchBar_searchBar__2BpzG",suggestion:"SearchBar_suggestion__15Tmt",fadeIn:"SearchBar_fadeIn__8wAf3",expanded:"SearchBar_expanded__2FDg0",suggestionsContainer:"SearchBar_suggestionsContainer__2_UsY",inputContainer:"SearchBar_inputContainer__1vfYd",focused:"SearchBar_focused__1XWye"}},,,function(e,t,a){e.exports={formContainer:"FeedbackForm_formContainer__1Oxpj",formSubmittedMessage:"FeedbackForm_formSubmittedMessage__2LOiZ",fadeIn:"FeedbackForm_fadeIn__3su5y",error:"FeedbackForm_error__1qBwD"}},function(e,t,a){e.exports={hidden:"FlexibleImg_hidden__fxJZA",landscape:"FlexibleImg_landscape__UP1dQ",fadeIn:"FlexibleImg_fadeIn__2DO5n",portrait:"FlexibleImg_portrait__1Oalo"}},function(e,t,a){e.exports={footer:"AddItemsList_footer__283hr",container:"AddItemsList_container__P4fcs",item:"AddItemsList_item__1LZDq",bullet:"AddItemsList_bullet__2_i6g",selected:"AddItemsList_selected__2rFzG",fadeIn:"AddItemsList_fadeIn__3GDEV"}},,function(e,t,a){e.exports={actionBtn:"ActionBtn_actionBtn__1iIrS",reject:"ActionBtn_reject__1hHU2",maybe:"ActionBtn_maybe__1Y6Lb",accept:"ActionBtn_accept__2gPmJ",fadeIn:"ActionBtn_fadeIn__1nTVf"}},function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__1G2Wm",tab:"Sidebar_tab__3a9pu",content:"Sidebar_content__1BDx-",fadeIn:"Sidebar_fadeIn__1mT2p",expanded:"Sidebar_expanded__ADaRI"}},function(e,t,a){e.exports={container:"PriceSelection_container__8JKGe",priceSign:"PriceSelection_priceSign__3soyJ",activePricePoint:"PriceSelection_activePricePoint__2VAjf",fadeIn:"PriceSelection_fadeIn__26PeH"}},,,,function(e,t,a){e.exports={home:"Home_home__3w6si",description:"Home_description__1CPEd",underHeader:"Home_underHeader__1vuZU",fadeIn:"Home_fadeIn__11n-M"}},function(e,t,a){e.exports={modal:"MapModal_modal__1C5i1",loadingRingContainer:"MapModal_loadingRingContainer__nUXTN",hidden:"MapModal_hidden__2z6gz",fadeIn:"MapModal_fadeIn__28csU"}},,,,,,,function(e,t,a){e.exports=a.p+"static/media/sad-plate.99770d9a.png"},function(e,t,a){e.exports=a.p+"static/media/wsie_logo.6886045f.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2ls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"},function(e,t,a){e.exports={ldsRing:"LoadingRing_ldsRing__b7JAh",fadeIn:"LoadingRing_fadeIn__13lLK"}},function(e,t,a){e.exports={item:"ActiveItemList_item__3T5yD",fadeIn:"ActiveItemList_fadeIn__1oAP5"}},function(e,t,a){e.exports={main:"Main_main__y-NeT",fadeIn:"Main_fadeIn__3wZb4"}},,function(e,t,a){e.exports=a(60)},,,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),i=a.n(s),o=(a(47),a(48),a(2)),c=a(3),l=a(5),u=a(1),d=a(4),p=a(15),h=a.n(p),m=a(24),f=a(13),g=a.n(f);function v(e){var t=e.split(", "),a=/USA( \(.+\))?/;return t.filter(function(e){return!a.test(e)}).join(", ")}var y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleKeyDown=function(e){if("Enter"===e.key&&a.props.suggestions.length>0){var t=a.props.focusedSuggestion||0,n=a.props.suggestions[t];a.props.setLocation(n)}else if("ArrowDown"===e.key&&a.props.suggestions.length>0){e.preventDefault();var r=a.props.focusedSuggestion;null===r?r=0:r<4&&r++,a.props.updateState({focusedSuggestion:r})}else if("ArrowUp"===e.key&&a.props.suggestions.length>0){e.preventDefault();var s=a.props.focusedSuggestion?a.props.focusedSuggestion-1:0;a.props.updateState({focusedSuggestion:s})}else if("Escape"===e.key)e.preventDefault(),a.input.blur();else if("Tab"===e.key&&a.props.suggestions.length>0){e.preventDefault();var i=a.props.focusedSuggestion;null===i?i=0:i<4&&i++,a.props.updateState({focusedSuggestion:i})}},a.handleInputChange=function(e){var t=e.target.value;a.props.updateState({searchBarValue:t}),t.length>=3&&a.updateSuggestions(t)},a.updateSuggestions=function(){var e=Object(m.a)(h.a.mark(function e(t){var n,r,s,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/suggest?text=".concat(t,"&category=Address,Primary+Postal,City&countryCode=USA&f=json"),e.next=3,fetch(n);case 3:if(!(r=e.sent).ok){e.next=10;break}return e.next=7,r.json();case 7:s=e.sent,e.next=11;break;case 10:throw new Error("Unable to reach arcgis.com");case 11:i=s.suggestions.reduce(function(e,t){var a=v(t.text);return e.includes(a)||e.push(a),e},[]),a.props.updateState({searchBarSuggestions:i});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onFocus=function(){a.props.inputFocused||(a.props.updateState({searchBarInputFocused:!0}),a.input.setSelectionRange(0,a.input.value.length)),a.props.value.length>=3&&0===a.props.suggestions.length&&a.updateSuggestions(a.props.value)},a.onBlur=function(){a.timeout=setTimeout(function(){a.props.updateState({searchBarInputFocused:!1,focusedSuggestion:null})},200)},a.btnClick=function(e){if(e.preventDefault(),clearTimeout(a.timeout),a.props.suggestions.length>0&&a.props.inputFocused){var t=a.props.focusedSuggestion||0,n=a.props.suggestions[t];a.props.setLocation(n)}else a.input.focus()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.inputFocused&&this.input.focus(),this.input.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),this.input.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=[g.a.searchBar];return this.props.expanded&&t.push(g.a.expanded),r.a.createElement("form",{role:"search",className:t.join(" "),autoComplete:"off"},r.a.createElement("div",{className:g.a.suggestionsContainer},r.a.createElement("div",{className:g.a.inputContainer},r.a.createElement("label",{htmlFor:"location"},"Enter your location:"),r.a.createElement("input",{type:"text",name:"location",value:this.props.value,placeholder:"Enter your location",onChange:this.handleInputChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:function(t){return e.input=t}})),this.props.inputFocused&&this.props.value.length>=3&&this.props.suggestions.map(function(t,a){var n=[g.a.suggestion];return e.props.focusedSuggestion===a&&n.push(g.a.focused),r.a.createElement("div",{className:n.join(" "),key:t,onMouseEnter:function(){return e.props.updateState({focusedSuggestion:a})},onClick:function(){return e.props.setLocation(t)}},t)})),(!this.props.isMobile||this.props.expanded)&&r.a.createElement("button",{type:"submit",onClick:this.btnClick,title:"Search location"},"Find Me Food!"))}}]),t}(r.a.Component),b=a(12),_=a.n(b),E=a(34),S=a.n(E),w=a(35),C=a.n(w),k=a(6);function x(e,t){var a=[],n=[];return t.forEach(function(t){(e(t)?a:n).push(t)}),[a,n]}function j(){var e=getComputedStyle(document.documentElement).fontSize,t=5*parseFloat(e);window.scrollY<t&&window.scroll({top:t,left:0,behavior:"smooth"})}var O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleLocationChange=function(){null===a.props.location?(document.addEventListener("scroll",a.toggleExpand),a.setState(a.initialState)):(document.removeEventListener("scroll",a.toggleExpand),a.setState({searchBarValue:a.props.location,expanded:!1,searchBarInputFocused:!1,focusedSuggestion:null}))},a.toggleExpand=function(){0!==window.scrollY||a.state.expanded?window.scrollY>0&&a.state.expanded&&a.setState({expanded:!1}):a.setState({expanded:!0})},a.state={expanded:null===e.location,searchBarValue:e.location||"",searchBarSuggestions:[],focusedSuggestion:null,searchBarInputFocused:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){null===this.props.location&&document.addEventListener("scroll",this.toggleExpand),this.initialState=this.state}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.toggleExpand)}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.handleLocationChange()}},{key:"render",value:function(){var e=this,t=[_.a.header];return this.state.expanded&&t.push(_.a.expanded),r.a.createElement("header",{className:t.join(" ")},r.a.createElement("div",{className:_.a.permanentContent},r.a.createElement("img",{src:C.a,onClick:this.props.goHome,alt:"Site Logo",title:"Go to home page"}),!this.state.expanded&&r.a.createElement(y,{expanded:this.state.expanded,isMobile:this.props.isMobile,value:this.state.searchBarValue,suggestions:this.state.searchBarSuggestions,inputFocused:this.state.searchBarInputFocused,updateState:function(t){return e.setState(t)},setLocation:function(t){return e.props.setLocation(t)},focusedSuggestion:this.state.focusedSuggestion})),this.state.expanded&&r.a.createElement("div",{className:_.a.expandedContent},r.a.createElement("div",{className:_.a.expandedMain},r.a.createElement("div",{className:_.a.searchContainer},r.a.createElement("h1",null,"Hungry?"),r.a.createElement(y,{expanded:this.state.expanded,isMobile:this.props.isMobile,value:this.state.searchBarValue,suggestions:this.state.searchBarSuggestions,inputFocused:this.state.searchBarInputFocused,updateState:function(t){return e.setState(t)},setLocation:function(t){return e.props.setLocation(t)},focusedSuggestion:this.state.focusedSuggestion})),r.a.createElement("img",{src:S.a,alt:"Sad, empty plate :("})),r.a.createElement("button",{className:_.a.scrollBtn,onClick:j,title:"Collapse Header"},r.a.createElement("i",{className:"fas fa-chevron-down"}))))}}]),t}(r.a.Component),A=a(26),L=a.n(A),I=a(36),T=a.n(I),R=a(16),M=a.n(R);function B(e){var t=Object(n.useState)(!1),a=Object(k.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(""),c=Object(k.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(""),p=Object(k.a)(d,2),h=p[0],m=p[1],f=Object(n.useState)(""),g=Object(k.a)(f,2),v=g[0],y=g[1],b=Object(n.useState)({}),_=Object(k.a)(b,2),E=_[0],S=_[1],w=function(){var e={};""===l&&(e.senderName="*This field is required.");return h.length>0&&!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(h)&&(e.senderEmail="*Please enter a valid email address."),""===v&&(e.text="*This field is required."),e},C=function(){var e=function(e){var t=!0,a=!1,n=void 0;try{for(var r,s=document.cookie.split("; ")[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value.split("="),o=Object(k.a)(i,2),c=o[0],l=o[1];if(c===e)return l}}catch(u){a=!0,n=u}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}("csrftoken"),t={Accept:"application/json","Content-Type":"application/json","X-CSRFToken":e},a=JSON.stringify({sender_name:l,sender_email:h,text:v,csrfmiddlewaretoken:e});fetch("/api/feedback",{credentials:"include",method:"POST",mode:"same-origin",headers:t,body:a}),i(!0)};return r.a.createElement("div",{className:M.a.formContainer},s&&r.a.createElement("p",{className:M.a.formSubmittedMessage},"Thank you for your feedback!"),!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=w();Object.entries(t).length>0?S(t):C()}},r.a.createElement("h1",null,"Contact"),r.a.createElement("p",null,"Have questions, criticisms, or bug reports? We'd love to hear from you!"),r.a.createElement("label",null,"Your name:",E.senderName&&r.a.createElement("span",{className:M.a.error},E.senderName),r.a.createElement("input",{type:"text",value:l,name:"name",onChange:function(e){return u(e.target.value)},placeholder:"Jane Doe",onFocus:e.scrollToForm,maxLength:"255"})),r.a.createElement("label",null,"Your email (optional):",E.senderEmail&&r.a.createElement("span",{className:M.a.error},E.senderEmail),r.a.createElement("input",{type:"text",value:h,name:"email",onChange:function(e){return m(e.target.value)},placeholder:"janedoe@email.com",onFocus:e.scrollToForm})),r.a.createElement("label",null,"Your message:",E.text&&r.a.createElement("span",{className:M.a.error},E.text),r.a.createElement("textarea",{type:"text",value:v,name:"message",onChange:function(e){return y(e.target.value)},placeholder:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua...",onFocus:e.scrollToForm,maxLength:"63206"})),r.a.createElement("button",{type:"submit"},"Submit"))))}var F=function(e){return r.a.createElement("div",{className:L.a.home},r.a.createElement("div",{className:L.a.underHeader},r.a.createElement(B,{scrollToForm:j})),r.a.createElement("div",{className:L.a.description},r.a.createElement("p",null,"Are you hungry? Hangry, even? So famished that you can\u2019t even begin to think of what your options could be? Let us be your guide. Enter your location (the more specific, the better) and swipe away until you find something that will satisfy you.")),r.a.createElement("footer",null,r.a.createElement("p",null,"What Should I Eat? A website by Sean Carey"),r.a.createElement("a",{href:"https://github.com/scarey18",target:"_blank",rel:"noopener noreferrer",title:"Sean's GitHub page"},r.a.createElement("img",{src:T.a,alt:"GitHub Logo"}))))},N=a(10),D=a(25),P=a(7),U=a.n(P),Y=a(11),W=a.n(Y),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).startTimeout=function(){clearTimeout(a.filterTextTimeout);var e=a.state.expanded?200:0;a.filterTextTimeout=setTimeout(function(){a.setState({showFilterText:a.state.expanded})},e)},a.handleClick=function(e){e.target!==a.btn&&a.state.expanded&&a.setState({expanded:!1})},a.onClick=function(){a.adjustEdges(),a.setState(function(e){return{expanded:!e.expanded}})},a.adjustEdges=function(){var e=a.expandedContent.getBoundingClientRect(),t=a.btn.getBoundingClientRect();if(e.width>window.screen.width)a.expandedContent.style.left="-".concat(t.left,"px"),a.expandedContent.style.width="100vw",a.expandedContent.style.transform="none";else if(e.left<0)a.expandedContent.style.left="-".concat(t.left,"px"),a.expandedContent.style.transform="none";else if(e.right>window.screen.width){var n=window.screen.width-t.right;a.expandedContent.style.left="unset",a.expandedContent.style.right="-".concat(n,"px"),a.expandedContent.style.transform="none"}},a.onMouseEnter=function(){return a.setState({hover:!0})},a.onMouseLeave=function(){return a.setState({hover:!1})},a.state={expanded:!1,hover:!1,showFilterText:!1},a.firstFilterOption=a.props.category.title?"Don't show me any more "+a.props.category.title:"I'm looking for something cheaper",a.secondFilterOption=a.props.category.title?"Only show me "+a.props.category.title:"Only show me restaurants this price or cheaper",a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick),this.adjustEdges()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick),clearTimeout(this.filterTextTimeout)}},{key:"componentDidUpdate",value:function(e,t){t.expanded!==this.state.expanded&&this.startTimeout()}},{key:"render",value:function(){var e=this,t=[W.a.filterBtn];this.state.expanded&&t.push(W.a.focused),this.props.restaurantSelected&&t.push(W.a.disabled);var a={width:this.state.hover||this.state.expanded?"100%":0},n={height:this.state.expanded?"6rem":0},s={visibility:this.state.showFilterText?"visible":"hidden"},i=this.props.category.title?null:this.props.category.length;return r.a.createElement("div",{className:W.a.filterContainer},r.a.createElement("button",{className:t.join(" "),onClick:this.props.restaurantSelected?null:this.onClick,onMouseEnter:this.props.restaurantSelected?null:this.onMouseEnter,onMouseLeave:this.props.restaurantSelected?null:this.onMouseLeave,onFocus:this.props.restaurantSelected?null:this.onMouseEnter,onBlur:this.props.restaurantSelected?null:this.onMouseLeave,ref:function(t){return e.btn=t},title:this.props.restaurantSelected?"":"Click to filter",disabled:this.props.restaurantSelected},this.props.category.title||this.props.category,r.a.createElement("div",{className:W.a.border,style:a})),r.a.createElement("div",{className:W.a.expanded,style:n,ref:function(t){return e.expandedContent=t}},r.a.createElement("button",{className:"".concat(W.a.filterOption," ").concat(W.a.firstOption),style:s,onClick:i?function(){return e.props.changePrice(i-1)}:this.props.addFilter},this.firstFilterOption),r.a.createElement("button",{className:W.a.filterOption,style:s,onClick:i?function(){return e.props.changePrice(i)}:this.props.addCategory},this.secondFilterOption)))}}]),t}(r.a.Component),H=a(20),q=a.n(H);var G=function(e){var t,a,n,s=[q.a.actionBtn],i=e.isMobile?"fa-lg":"fa-2x";switch(e.id){case 0:a="fa fa-thumbs-down ".concat(i),t=r.a.createElement("i",{className:a}),s.push(q.a.reject),n="Click to reject restaurant";break;case 1:t="Save and skip",s.push(q.a.maybe),n="Click to skip but save restaurant";break;case 2:a="fa fa-thumbs-up ".concat(i),t=r.a.createElement("i",{className:a}),s.push(q.a.accept),n="Click to select restaurant"}return r.a.createElement("button",{className:s.join(" "),onClick:e.action,title:n},t)},Z=a(17),Q=a.n(Z),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onLoad=function(){a.parent=a.img.parentElement;for(var e=0;e<a.props.parentDepth-1;e++)a.parent=a.parent.parentElement;a.props.delay?a.initialTimeout=setTimeout(a.styleImg,a.props.delay):a.styleImg(),window.addEventListener("resize",a.styleImg)},a.styleImg=function(){var e=a.parent.getBoundingClientRect(),t=a.img.getBoundingClientRect(),n=e.width/t.width<e.height/t.height?Q.a.landscape:Q.a.portrait;a.props.fitParentToImg&&n===Q.a.landscape?(a.img.parentElement.style.height="auto",a.img.parentElement.style.width=null):a.props.fitParentToImg&&(a.img.parentElement.style.width="auto",a.img.parentElement.style.height=null),n!==a.state.className&&a.setState({className:n})},a.state={className:Q.a.hidden},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){for(var t=this.props.restyleTriggers?this.props.restyleTriggers.length:0,a=0;a<t;a++){if(this.props.restyleTriggers[a][0]!==e.restyleTriggers[a][0]){var n=this.props.restyleTriggers[a][1];this.setState({className:Q.a.hidden}),this.restyleTimeout=setTimeout(this.styleImg,n);break}}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.initialTimeout),clearTimeout(this.restyleTimeout),window.removeEventListener("resize",this.styleImg)}},{key:"render",value:function(){var e=this;return r.a.createElement("img",{src:this.props.src,alt:this.props.alt,className:this.state.className,onLoad:this.onLoad,ref:function(t){return e.img=t}})}}]),t}(r.a.Component),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleTouchStart=function(e){var t=e.targetTouches?e.targetTouches[0]:e;a.initialTouchX=t.screenX,a.initialTouchY=t.screenY,window.addEventListener("mousemove",a.moveCard),window.addEventListener("touchmove",a.moveCard),window.addEventListener("mouseup",a.handleTouchEnd),window.addEventListener("touchend",a.handleTouchEnd)},a.handleTouchEnd=function(){a.props.renderContent&&(window.removeEventListener("mousemove",a.moveCard),window.removeEventListener("touchmove",a.moveCard),window.removeEventListener("mouseup",a.handleTouchEnd),window.removeEventListener("touchend",a.handleTouchEnd),a.card.style.transform=null,a.card.style.transition=null,document.querySelector("body").style.overflowY=null,a.rotationRatio<=-.15&&a.props.nextRestaurant(!1))},a.moveCard=function(e){if(a.props.renderContent){var t=e.touches?e.touches[0]:e,n=t.screenX-a.initialTouchX,r=t.screenY-a.initialTouchY,s=60/(window.innerWidth/n);a.rotationRatio=s/60,document.querySelector("body").style.overflowY="hidden",a.card.style.transition="none",a.card.style.transform="translate(".concat(n,"px, ").concat(r,"px) rotate(").concat(s,"deg)")}},a.getRatingImgPath=function(){var e=a.props.isMobile?"small":"regular",t=a.props.restaurant.rating,n=t%1!==0?Math.floor(t)+"_half":t;return"static/media/yelp_stars/web_and_ios/".concat(e,"/").concat(e,"_").concat(n,".png")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.renderContent&&(this.card.addEventListener("mousedown",this.handleTouchStart),this.card.addEventListener("touchstart",this.handleTouchStart))}},{key:"componentDidUpdate",value:function(e,t){this.props.renderContent&&(!e.renderContent||!this.props.restaurantSelected&&e.restaurantSelected)?(this.card.addEventListener("mousedown",this.handleTouchStart),this.card.addEventListener("touchstart",this.handleTouchStart)):(!this.props.renderContent&&e.renderContent||this.props.restaurantSelected&&!e.restaurantSelected)&&(this.card.removeEventListener("mousedown",this.handleTouchStart),this.card.removeEventListener("touchstart",this.handleTouchStart))}},{key:"componentWillUnmount",value:function(){this.rotationRatio=null,clearTimeout(this.transitionTimeout),this.card.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp),this.card.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("mousemove",this.moveCard),window.removeEventListener("touchmove",this.moveCard)}},{key:"render",value:function(){var e=this,t=[U.a.card];return this.props.isStacked?t.push(U.a.stackedCard):this.props.restaurantSelected&&t.push(U.a.selectedCard),r.a.createElement("div",{className:t.join(" "),ref:function(t){return e.card=t}},this.props.renderContent&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:U.a.content},!this.props.isMobile&&r.a.createElement("div",{className:U.a.imgContainer},this.props.restaurant.image_url?r.a.createElement("a",{href:this.props.restaurant.image_url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(V,{src:this.props.restaurant.image_url,alt:this.props.restaurant.name,parentDepth:2,delay:500,restyleTriggers:[[this.props.restaurantSelected,200]],fitParentToImg:!0})):r.a.createElement("p",null,"This restaurant has no uploaded pictures.")),r.a.createElement("div",{className:U.a.info},r.a.createElement("h1",null,this.props.restaurant.name),r.a.createElement("div",{className:U.a.yelpInfo},r.a.createElement("a",{className:U.a.reviewInfo,href:this.props.restaurant.url,target:"_blank",rel:"noopener noreferrer",title:this.props.restaurant.rating+" star rating"},r.a.createElement("img",{src:this.getRatingImgPath(),alt:this.props.restaurant.rating+" star rating"}),r.a.createElement("p",null,"Based on ",this.props.restaurant.review_count," Reviews")),r.a.createElement("a",{href:this.props.restaurant.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:U.a.yelpLogo,src:"static/media/YelpLogo_Trademark/Screen(R)/Yelp_trademark_RGB_outline.png",title:"www.yelp.com",alt:"Yelp logo"}))),r.a.createElement("div",{className:U.a.filterBtns},this.props.restaurant.price&&r.a.createElement(J,{category:this.props.restaurant.price,restaurantSelected:this.props.restaurantSelected,changePrice:this.props.changePrice,key:0}),this.props.restaurant.categories.map(function(t){return r.a.createElement(J,{category:t,restaurantSelected:e.props.restaurantSelected,addCategory:function(){return e.props.addCategory(t)},addFilter:function(){return e.props.addFilter(t)},key:t.alias})})),r.a.createElement("div",{className:U.a.addressInfo},r.a.createElement("div",{className:U.a.fullAddress},this.props.restaurant.location.display_address.map(function(e){return r.a.createElement("p",{key:e},e)})),r.a.createElement("button",{onClick:this.props.showOnMap},"Show on Map")),this.props.restaurantSelected&&r.a.createElement("div",{className:U.a.contactInfo},r.a.createElement("h2",null,"Contact"),this.props.restaurant.display_phone&&r.a.createElement("p",null,"Phone: ",this.props.restaurant.display_phone),r.a.createElement("p",null,"Find more info on\xa0",r.a.createElement("a",{href:this.props.restaurant.url,target:"_blank",rel:"noopener noreferrer"},"the ",this.props.restaurant.name," Yelp page"),".")))),!this.props.restaurantSelected&&r.a.createElement("div",{className:U.a.actionBtns},r.a.createElement(G,{id:0,action:function(){return e.props.nextRestaurant(!1)}}),r.a.createElement(G,{id:1,action:function(){return e.props.nextRestaurant(!0)}}),r.a.createElement(G,{id:2,action:this.props.selectRestaurant}))))}}]),t}(r.a.Component),K=a(8),X=a.n(K),$=function(){function e(t){Object(o.a)(this,e),this.location=t.props.location,this.price=t.state.price,this.categories=t.state.categories,this.params=this.setParams(),this.resultsLog=[]}return Object(c.a)(e,[{key:"setParams",value:function(){var e=["location=".concat(this.location)];if(this.price<4){for(var t=[],a=1;a<=this.price;a++)t.push(a);e.push("price=".concat(t.join(",")))}if(this.categories.length>0){var n=this.categories.sortedAliases;e.push("categories=".concat(n.join(",")))}return e.join("&")}},{key:"offset",get:function(){return this.resultsLog.reduce(function(e,t){return e+t})}},{key:"canFetchMore",get:function(){var e=this.resultsLog.length;return 0===e||50===this.resultsLog[e-1]&&this.offset<=950}},{key:"url",get:function(){var e="/api/restaurants?"+this.params;return this.resultsLog.length>0&&(e+="&offset=".concat(this.offset)),e}}]),e}();function ee(e){var t=!0,a=!1,n=void 0;try{for(var r,s=e.requestsLog[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;if(e.props.location===i.location&&e.state.price===i.price&&e.state.categories.isEqualTo(i.categories))return i}}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}var o=new $(e);return e.requestsLog.push(o),o}function te(e,t){return t.filter(function(t){return!ae(e,t)})}function ae(e,t){var a=!0,n=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){if(s.value.id===t.id)return!0}}catch(o){n=!0,r=o}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}function ne(e,t){var a=t.price||e.state.price,n=t.categories||e.state.categories,r=t.filters||e.state.filters;return x(function(e){return n.hasCommon(e.categories)&&!r.hasCommon(e.categories)&&(!e.price||e.price.length<=a)},e.discarded)}function re(e,t){return e.filter(function(e){return ae(t,e)})}var se=a(28),ie=a(27),oe=a.n(ie),ce=a(37),le=a.n(ce);var ue=function(e){return r.a.createElement("div",{className:le.a.ldsRing},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},de=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getSrc=function(){var e=a.props.restaurant;if(a.props.render&&(!a.restaurant||a.restaurant!==e)){a.restaurant=e;var t=e.location.address1.replace(/ /g,"+"),n=e.location.city.replace(/ /g,"+"),r=e.location.state,s="".concat(t,",").concat(n,"+").concat(r);a.src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDKqk8m58bRFV5vCV5Wf-lPdzCfZtYZlcE&q=".concat(s)}return a.src},a.handleKeyDown=function(e){"Escape"===e.key&&a.props.onClose()},a.handleClick=function(){a.props.onClose()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.render&&!e.render?window.addEventListener("keydown",this.handleKeyDown):!this.props.render&&e.render&&window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=[oe.a.modal];return this.props.render||e.push(oe.a.hidden),r.a.createElement("div",{className:e.join(" "),onClick:this.handleClick},r.a.createElement("i",{className:"fas fa-times fa-2x",onClick:this.props.onClose}),r.a.createElement("div",{className:oe.a.loadingRingContainer},r.a.createElement(ue,null)),r.a.createElement("iframe",{src:this.getSrc(),title:"Google Map centered on current restaurant"}))}}]),t}(r.a.Component),pe=a(21),he=a.n(pe),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleWindowClick=function(e){!a.mql.matches&&a.state.expanded&&(function e(t,a){switch(a){case t:return!0;case document.querySelector("body"):return!1;default:return null===a||e(t,a.parentNode)}}(a.container,e.target)||a.setState({expanded:!1}))},a.handleTabClick=function(){a.setState({expanded:!a.state.expanded})},a.handleTransitionEnd=function(e){e.target===a.container&&a.state.expanded&&(a.contentDiv.style.display=null)},a.mql=window.matchMedia("(min-width: 1840px)"),a.state={expanded:a.mql.matches},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleWindowClick),this.container.addEventListener("transitionend",this.handleTransitionEnd),this.state.expanded||(this.contentDiv.style.display="none")}},{key:"componentWillUnmount",value:function(){this.container.removeEventListener("transitionend",this.handleTransitionEnd),window.removeEventListener("click",this.handleWindowClick)}},{key:"componentDidUpdate",value:function(e,t){!this.state.expanded&&t.expanded&&(this.contentDiv.style.display="none")}},{key:"render",value:function(){var e=this,t=[he.a.sidebar];this.state.expanded&&t.push(he.a.expanded);var a=this.state.expanded?"fa-chevron-right":"fa-chevron-left";return r.a.createElement("div",{className:t.join(" "),ref:function(t){return e.container=t}},r.a.createElement("div",{className:he.a.tab,onClick:this.handleTabClick},r.a.createElement("i",{className:"fas "+a+" fa-lg"})),r.a.createElement("div",{className:he.a.content,ref:function(t){return e.contentDiv=t}},this.props.children))}}]),t}(r.a.Component),fe=a(9),ge=a.n(fe),ve=a(22),ye=a.n(ve),be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleMouseEnter=function(e){e!==a.state.hoveredPrice&&a.setState({hoveredPrice:e})},a.handleMouseLeave=function(){a.setState({hoveredPrice:null})},a.state={selectedPrice:e.price,hoveredPrice:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.price!==e.price&&this.setState({selectedPrice:this.props.price})}},{key:"render",value:function(){for(var e=this,t=[],a=function(a){var n=[ye.a.priceSign];e.state.hoveredPrice&&a<=e.state.hoveredPrice?n.push(ye.a.activePricePoint):!e.state.hoveredPrice&&a<=e.state.selectedPrice&&n.push(ye.a.activePricePoint),t.push(r.a.createElement("span",{key:a,className:n.join(" "),onMouseEnter:function(){return e.handleMouseEnter(a)},onClick:function(){return e.setState({selectedPrice:a})},title:"Set maximum price to ".concat("$".repeat(a))},"$"))},n=1;n<=4;n++)a(n);return r.a.createElement("div",{className:ye.a.container},r.a.createElement("div",{onMouseLeave:this.handleMouseLeave},t),r.a.createElement("button",{disabled:this.state.selectedPrice===this.props.price,onClick:function(){return e.props.onPriceChange(e.state.selectedPrice)}},"Apply Change"))}}]),t}(r.a.Component),_e=a(38),Ee=a.n(_e);var Se=function(e){return 0===e.list.length?r.a.createElement("p",null,e.emptyListText):r.a.createElement("ul",null,e.list.map(function(t,a){return r.a.createElement("div",{className:Ee.a.item,key:a},r.a.createElement("li",null,t.title),r.a.createElement("button",{onClick:function(){return e.handleDeleteItem(t)}},"Delete"))}))},we=a(18),Ce=a.n(we);var ke=function(e){var t=e.items.map(function(t){var a=[Ce.a.bullet];return e.selectedItems.contains(t)&&a.push(Ce.a.selected),r.a.createElement("div",{key:t.alias,className:Ce.a.item,onClick:function(){return e.toggleSelection(t)}},r.a.createElement("div",{className:a.join(" ")}),r.a.createElement("span",null,t.title))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ce.a.container},t),r.a.createElement("div",{className:Ce.a.footer},r.a.createElement("button",{onClick:e.applyChanges,disabled:0===e.selectedItems.length},"Apply Changes")))},xe=a(40),je=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"contains",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,s=this[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){if(r.value.alias===e.alias)return!0}}catch(i){a=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}},{key:"hasCommon",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;if(this.contains(i))return!0}}catch(o){a=!0,n=o}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}},{key:"isEqualTo",value:function(e){if(this.length!==e.length)return!1;var t=!0,a=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;if(!this.contains(i))return!1}}catch(o){a=!0,n=o}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return!0}},{key:"add",value:function(e){var t=this;return Array.isArray(e)||(e=[e]),this.concat(e.filter(function(e){return!t.contains(e)}))}},{key:"remove",value:function(e){for(var t=0;t<this.length;t++)if(this[t].alias===e.alias)return this.slice(0,t).concat(this.slice(t+1))}},{key:"toggle",value:function(e){return this.remove(e)||this.concat([e])}},{key:"sortedAliases",get:function(){return this.map(function(e){return e.alias}).sort()}}]),t}(Object(xe.a)(Array)),Oe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"hasCommon",value:function(e){return 0===this.length||Object(D.a)(Object(u.a)(t.prototype),"hasCommon",this).call(this,e)}},{key:"discard",value:function(e){var t=this;return x(function(e){return t.hasCommon(e.categories)},e)}}]),t}(je),Ae=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"discard",value:function(e){var t=this;return x(function(e){return!t.hasCommon(e.categories)},e)}}]),t}(je),Le=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addUnseen",value:function(e){return e.reduce(function(e,t){return e.concat(t.categories.filter(function(t){return!e.contains(t)}))},this)}}]),t}(je),Ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getCurrentFilterList=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Maximum price:"),r.a.createElement(be,{price:a.props.price,onPriceChange:a.props.changePrice}),r.a.createElement("h2",null,"Don't show me:"),r.a.createElement(Se,{list:a.props.filters,emptyListText:"You haven't made any exclusions yet.",handleDeleteItem:a.props.removeFilter}),r.a.createElement("h2",null,"Only show me:"),r.a.createElement(Se,{list:a.props.categories,emptyListText:"You haven't made any inclusions yet.",handleDeleteItem:a.props.removeCategory}))},a.getAddItemsList=function(e,t){var n,s,i,o=a.props.seenCategories.filter(function(t){return!e.contains(t)});switch(t){case a.state.selectedCategories:n=a.toggleCategory,s=a.addCategories,i="Only show me:";break;case a.state.selectedFilters:n=a.toggleFilter,s=a.addFilters,i="Don't show me:"}return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,i),r.a.createElement(ke,{items:o,selectedItems:t,toggleSelection:n,applyChanges:s}))},a.addCategories=function(){a.props.addCategory(a.state.selectedCategories),a.setState({selectedCategories:new je,display:"current filters"})},a.addFilters=function(){a.props.addFilter(a.state.selectedFilters),a.setState({selectedFilters:new je,display:"current filters"})},a.toggleCategory=function(e){var t=a.state.selectedCategories.toggle(e);a.setState({selectedCategories:t})},a.toggleFilter=function(e){var t=a.state.selectedFilters.toggle(e);a.setState({selectedFilters:t})},a.state={display:"current filters",selectedCategories:new je,selectedFilters:new je,selectedPrice:e.price},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,a=[ge.a.tab],n=[ge.a.tab],s=[ge.a.tab];switch(this.state.display){case"current filters":a.push(ge.a.activeTab),e=this.getCurrentFilterList();break;case"add inclusion":n.push(ge.a.activeTab),e=this.getAddItemsList(this.props.categories,this.state.selectedCategories);break;case"add exclusion":s.push(ge.a.activeTab),e=this.getAddItemsList(this.props.filters,this.state.selectedFilters)}return r.a.createElement("div",{className:ge.a.dashboardContainer},r.a.createElement("div",{className:ge.a.tabs},r.a.createElement("div",{className:a.join(" "),onClick:function(){return t.setState({display:"current filters"})}},"Current Filters"),r.a.createElement("div",{className:ge.a.addTabs},r.a.createElement("div",{className:n.join(" "),onClick:function(){return t.setState({display:"add inclusion"})}},"Add Inclusions"),r.a.createElement("div",{className:s.join(" "),onClick:function(){return t.setState({display:"add exclusion"})}},"Add Exclusions"))),r.a.createElement("div",{className:ge.a.content},e))}}]),t}(r.a.Component),Te={restaurants:[],history:[],categories:new Oe,filters:new Ae,loading:!0,savedRestaurants:[],renderMapModal:!1,restaurantSelected:!1,price:4,seenCategories:new Le},Re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setState=function(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];(e=Object(D.a)(Object(u.a)(t.prototype),"setState",Object(N.a)(a))).call.apply(e,[Object(N.a)(a)].concat(r)),function(e){var t=document.querySelector("body");t.style.overflowY="hidden",e.overflowTimeout=setTimeout(function(){return t.style.overflowY="auto"},400)}(Object(N.a)(a))},a.getRestaurants=Object(m.a)(h.a.mark(function e(){var t,n,r,s,i,o,c,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=ee(Object(N.a)(a))).canFetchMore){e.next=15;break}return e.next=4,fetch(t.url);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,t.resultsLog.push(r.businesses.length),s=te(a.allSeenRestaurants,r.businesses),a.allSeenRestaurants=a.allSeenRestaurants.concat(s),a.state.filters.length>0&&(o=a.state.filters.discard(s),c=Object(k.a)(o,2),s=c[0],i=c[1],a.discarded=a.discarded.concat(i)),l=a.state.seenCategories.addUnseen(s),a.setState({restaurants:a.state.restaurants.concat(s),loading:!1,seenCategories:l});case 15:case"end":return e.stop()}},e)})),a.nextRestaurant=function(e){var t=a.state.history.concat([a.state]),n=a.state.restaurants.slice(1),r=a.state.savedRestaurants.slice();e&&r.push(a.state.restaurants[0]),a.setState({history:t,restaurants:n,savedRestaurants:r})},a.undo=function(){var e=a.state.history[a.state.history.length-1];a.setState(e)},a.addCategory=function(e){var t=a.state.categories.add(e),n=t.discard(a.state.restaurants),r=Object(k.a)(n,2),s=r[0],i=r[1];a.discarded=a.discarded.concat(i);var o=a.state.history.concat([a.state]);a.setState({categories:t,restaurants:s,history:o})},a.addFilter=function(e){var t=a.state.filters.add(e),n=t.discard(a.state.restaurants),r=Object(k.a)(n,2),s=r[0],i=r[1];a.discarded=a.discarded.concat(i);var o=a.state.history.concat([a.state]);a.setState({filters:t,restaurants:s,history:o})},a.changePrice=function(e){if(!(e<1||e===a.state.price)){var t=[];if(e>a.state.price){var n=ne(Object(N.a)(a),{price:e}),r=Object(k.a)(n,2);t=r[0],a.discarded=r[1]}var s=function(e,t){return x(function(t){return!t.price||t.price.length<=e},t)}(e,a.state.restaurants),i=Object(k.a)(s,2),o=i[0],c=i[1];o=re(a.allSeenRestaurants,o.concat(t)),a.discarded=a.discarded.concat(c);var l=a.state.history.concat([a.state]);a.setState({restaurants:o,price:e,history:l})}},a.bringBackSavedRestaurants=function(){var e=a.state.history.concat([a.state]);a.setState({restaurants:a.state.savedRestaurants.concat(a.state.restaurants),savedRestaurants:[],history:e})},a.selectRestaurant=function(){var e=a.state.history.concat([a.state]);a.setState({restaurantSelected:!0,history:e})},a.removeCategory=function(e){var t,n=a.state.categories.remove(e),r=ne(Object(N.a)(a),{categories:n}),s=Object(k.a)(r,2);t=s[0],a.discarded=s[1];var i=re(a.allSeenRestaurants,a.state.restaurants.concat(t)),o=a.state.history.concat([a.state]);a.setState({categories:n,history:o,restaurants:i})},a.removeFilter=function(e){var t,n=a.state.filters.remove(e),r=ne(Object(N.a)(a),{filters:n}),s=Object(k.a)(r,2);t=s[0],a.discarded=s[1];var i=re(a.allSeenRestaurants,a.state.restaurants.concat(t)),o=a.state.history.concat([a.state]);a.setState({filters:n,history:o,restaurants:i})},a.state=Te,a.requestsLog=[],a.discarded=[],a.allSeenRestaurants=[],a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getRestaurants()}},{key:"componentDidUpdate",value:function(e,t){this.props.location!==e.location?(this.requestsLog=[],this.discarded=[],this.allSeenRestaurants=[],this.setState(Te,this.getRestaurants)):this.state.restaurants.length!==t.restaurants.length&&this.state.restaurants.length<=12&&this.getRestaurants()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.overflowTimeout)}},{key:"render",value:function(){var e=this,t=this.state.restaurants.slice(0,11).map(function(t,a){return r.a.createElement(se.CSSTransition,{key:t.id,timeout:300,unmountOnExit:!0,classNames:{enter:X.a.cardEnter,enterActive:X.a.cardEnterActive,exit:X.a.cardExit,exitActive:X.a.cardExitActive}},r.a.createElement(z,{renderContent:a<=1,isStacked:a>0,restaurant:t,isMobile:e.props.isMobile,nextRestaurant:e.nextRestaurant,addCategory:e.addCategory,addFilter:e.addFilter,changePrice:e.changePrice,showOnMap:function(){return e.setState({renderMapModal:!0})},selectRestaurant:e.selectRestaurant,restaurantSelected:e.state.restaurantSelected}))}),a=this.state.restaurantSelected?X.a.selectedCardContainer:X.a.cardStack;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:X.a.suggestRestaurants},this.state.loading&&r.a.createElement("div",{className:X.a.loadingSection},r.a.createElement("div",{className:X.a.loadingRingContainer},r.a.createElement(ue,null)),r.a.createElement("h2",null,"Retrieving restaurants...")),this.state.restaurants.length>0&&r.a.createElement(se.TransitionGroup,{className:a},t),r.a.createElement("div",{className:X.a.historyBtns},this.state.history.length>0&&r.a.createElement("button",{className:X.a.undoBtn,onClick:this.undo,title:"Undo"},r.a.createElement("i",{className:"fas fa-undo fa-lg"})),this.state.savedRestaurants.length>0&&!this.state.restaurantSelected&&r.a.createElement("button",{className:X.a.savedRestaurantsBtn,title:"Saved Restaurants",onClick:this.bringBackSavedRestaurants},"Bring back saved restaurants")),!this.state.loading&&0===this.state.restaurants.length&&r.a.createElement("div",{className:X.a.messageSection},r.a.createElement("h2",null,"We couldn't find any more restaurants for this search area. Try widening your search or using less filters."))),r.a.createElement(de,{render:this.state.renderMapModal,restaurant:this.state.restaurants[0],onClose:function(){return e.setState({renderMapModal:!1})}}),!this.state.restaurantSelected&&r.a.createElement(me,null,r.a.createElement(Ie,{categories:this.state.categories,filters:this.state.filters,seenCategories:this.state.seenCategories,price:this.state.price,changePrice:this.changePrice,removeFilter:this.removeFilter,removeCategory:this.removeCategory,addCategory:this.addCategory,addFilter:this.addFilter,saveRestaurants:this.state.savedRestaurants})))}}]),t}(r.a.Component),Me=a(39),Be=a.n(Me);var Fe=function(e){return r.a.createElement("main",{className:Be.a.main},null===e.location?r.a.createElement(F,null):r.a.createElement(Re,{location:e.location,isMobile:e.isMobile}))},Ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handlePopstate=function(e){var t=null===e.state?null:e.state.userLocation;a.setState({userLocation:t}),null===t?localStorage.removeItem("userLocation"):localStorage.setItem("userLocation",t)},a.handleResize=function(e){e.matches&&!a.state.isMobile?a.setState({isMobile:!0}):!e.matches&&a.state.isMobile&&a.setState({isMobile:!1})},a.goHome=function(){null===a.state.userLocation?window.scroll({top:0,left:0,behavior:"smooth"}):(window.history.pushState({userLocation:null},"","/"),localStorage.removeItem("userLocation"),a.setState({userLocation:null}))},a.setLocation=function(e){window.history.pushState({userLocation:e},"","/suggest"),a.setState({userLocation:e}),localStorage.setItem("userLocation",e)},a.mql=window.matchMedia("(max-width: 650px)"),a.state={isMobile:a.mql.matches,userLocation:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.mql.addListener(this.handleResize),window.addEventListener("popstate",this.handlePopstate);var e=localStorage.getItem("userLocation");null!==e?(window.history.replaceState({userLocation:e},"","/suggest"),this.setState({userLocation:e})):window.history.replaceState({userLocation:null},"","/")}},{key:"componentWillUnmount",value:function(){this.mql.removeListener(this.handleResize),window.removeEventListener("popstate",this.handlePopstate)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{isMobile:this.state.isMobile,location:this.state.userLocation,setLocation:function(t){return e.setLocation(t)},goHome:this.goHome}),r.a.createElement(Fe,{location:this.state.userLocation,isMobile:this.state.isMobile}))}}]),t}(r.a.Component),De=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(Ne,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");De?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Pe(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Pe(t,e)})}}()}],[[41,1,2]]]);
//# sourceMappingURL=main.c593634c.chunk.js.map